"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1743],{48381:function(e,n,i){var t=i(82684),l=i(31882),r=i(55485),c=i(30160),u=i(86735),o=i(28598);n.Z=function(e){var n=e.onClickTag,i=e.tags,s=void 0===i?[]:i,a=(0,t.useMemo)((function(){return(null===s||void 0===s?void 0:s.length)||0}),[s]),d=(0,t.useMemo)((function(){return(0,u.YC)(s||[],"uuid")}),[s]);return(0,o.jsx)(r.ZP,{alignItems:"center",flexWrap:"wrap",children:null===d||void 0===d?void 0:d.reduce((function(e,i){return e.push((0,o.jsx)("div",{style:{marginBottom:2,marginRight:a>=2?4:0,marginTop:2},children:(0,o.jsx)(l.Z,{onClick:n?function(){return n(i)}:null,small:!0,children:(0,o.jsx)(c.ZP,{children:i.uuid})})},"tag-".concat(i.uuid))),e}),[])})}},31743:function(e,n,i){var t=i(82394),l=i(75582),r=i(12691),c=i.n(r),u=i(82684),o=i(69864),s=i(34376),a=i(71180),d=i(50724),p=i(55485),h=i(48670),g=i(30229),f=i(89515),x=i(38276),m=i(75499),j=i(48381),_=i(30160),b=i(69650),v=i(12468),y=i(35686),Z=i(72473),k=i(81655),C=i(72191),P=i(41143),O=i(70515),w=i(31608),I=i(3917),E=i(50178),S=i(72619),A=i(3314),D=i(70320),T=i(28598);function L(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function N(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?L(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var F=1.5*O.iI;n.Z=function(e){var n=e.disableActions,i=e.fetchPipelineSchedules,t=e.highlightRowOnHover,r=e.includeCreatedAtColumn,O=e.includePipelineColumn,L=e.pipeline,R=e.pipelineSchedules,z=e.pipelineTriggersByName,V=e.selectedSchedule,B=e.setErrors,q=e.setSelectedSchedule,H=e.stickyHeader,U=null===L||void 0===L?void 0:L.uuid,M=(0,s.useRouter)(),X=(0,u.useRef)({}),G=(0,u.useState)(null),K=G[0],$=G[1],W=(0,u.useState)(0),Y=W[0],J=W[1],Q=(0,u.useState)(0),ee=Q[0],ne=Q[1],ie=(0,D.q)(),te=ie?k.O$:{},le=(0,o.Db)((function(e){return y.ZP.pipeline_schedules.useUpdate(e.id)({pipeline_schedule:e})}),{onSuccess:function(e){return(0,S.wD)(e,{callback:function(){null===i||void 0===i||i()},onErrorCallback:function(e,n){return B({errors:n,response:e})}})}}),re=(0,l.Z)(le,1)[0],ce=(0,o.Db)((function(e){return y.ZP.pipeline_schedules.useDelete(e)()}),{onSuccess:function(e){return(0,S.wD)(e,{callback:function(){null===i||void 0===i||i(),U?M.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(U,"/triggers")):null===i||void 0===i||i()},onErrorCallback:function(e,n){return B({errors:n,response:e})}})}}),ue=(0,l.Z)(ce,1)[0],oe=[],se=[];return n||(oe.push.apply(oe,[null,null]),se.push.apply(se,[{uuid:"Active"},{uuid:"Type"}])),oe.push.apply(oe,[1,2]),se.push.apply(se,[{uuid:"Name"},{uuid:"Description"}]),n||(oe.push.apply(oe,[null]),se.push({uuid:"Frequency"})),oe.push.apply(oe,[1,1,null]),se.push.apply(se,[N(N({},te),{},{uuid:"Next run date"}),{uuid:"Latest status"},{uuid:"Runs"}]),n||(oe.push.apply(oe,[1]),se.push({uuid:"Tags"})),oe.push.apply(oe,[null]),se.push({uuid:"Logs"}),n||(0,E.Ct)()||(oe.push.apply(oe,[null]),se.push({label:function(){return""},uuid:"edit/delete"})),!n&&O&&(se.splice(2,0,{uuid:"Pipeline"}),oe.splice(2,0,1)),!n&&r&&(se.splice(5,0,N(N({},te),{},{uuid:"Created at"})),oe.splice(5,0,null)),(0,T.jsx)(w.cl,{overflowVisible:!0,children:0===R.length?(0,T.jsx)(x.Z,{px:3,py:1,children:(0,T.jsx)(_.ZP,{bold:!0,default:!0,monospace:!0,muted:!0,children:"No triggers available"})}):(0,T.jsx)(m.Z,{columnFlex:oe,columns:se,highlightRowOnHover:t,isSelectedRow:function(e){return R[e].id===(null===V||void 0===V?void 0:V.id)},onClickRow:q?function(e){return null===q||void 0===q?void 0:q(R[e])}:null,rowVerticalPadding:6,rows:R.map((function(e,i){var t=e.id,l=e.created_at,o=e.description,s=e.next_pipeline_run_date,m=e.pipeline_runs_count,y=e.pipeline_uuid,w=e.last_pipeline_run_status,S=e.name,D=e.schedule_interval,L=e.status,N=e.tags,R=g.fq.ACTIVE===L,V=U||y;X.current[t]=(0,u.createRef)();var B,q=null!==z&&void 0!==z&&z[S]?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(x.Z,{mr:1}),(0,T.jsx)(v.Z,{block:!0,label:"This trigger is saved in code.",size:F,widthFitContent:!0,children:(0,T.jsx)(Z.EK,{default:!0,size:F})})]}):null,H=[];n?H.push.apply(H,[(0,T.jsxs)(p.ZP,{alignItems:"center",children:[(0,T.jsx)(_.ZP,{bold:!0,children:S}),q]},"trigger_name_".concat(i))]):H.push.apply(H,[(0,T.jsx)(v.Z,{block:!0,label:L,size:20,widthFitContent:!0,children:(0,T.jsx)(b.Z,{checked:R,compact:!0,onCheck:function(n){(0,A.j)(n),re({id:e.id,status:R?g.fq.INACTIVE:g.fq.ACTIVE})},purpleBackground:!0})},"trigger_enabled_".concat(i)),(0,T.jsx)(_.ZP,{default:!0,monospace:!0,children:null===(B=g.Z4[e.schedule_type])||void 0===B?void 0:B.call(g.Z4)},"trigger_type_".concat(i)),(0,T.jsxs)(p.ZP,{alignItems:"center",children:[(0,T.jsx)(c(),{as:"/pipelines/".concat(V,"/triggers/").concat(t),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,T.jsx)(h.Z,{bold:!0,onClick:function(e){(0,A.j)(e),M.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(V,"/triggers/").concat(t))},sky:!0,children:S})}),q]},"trigger_name_".concat(i))]);return H.push.apply(H,[(0,T.jsx)(_.ZP,{default:!0,children:o},"trigger_description_".concat(i))]),n||H.push((0,T.jsx)(_.ZP,{default:!0,monospace:!0,children:D},"trigger_frequency_".concat(i))),H.push.apply(H,[(0,T.jsx)(_.ZP,{monospace:!0,small:!0,title:s?"UTC: ".concat(s.slice(0,19)):null,children:s?ie?(0,I.XG)(s,ie):(0,I.d$)(s,{includeSeconds:!0,utcFormat:!0}):(0,T.jsx)(T.Fragment,{children:"\u2014"})},"trigger_next_run_date_".concat(i)),(0,T.jsx)(_.ZP,{danger:P.V.FAILED===w,default:!w,monospace:!0,success:P.V.COMPLETED===w,warning:P.V.CANCELLED===w,children:w||"N/A"},"latest_run_status_".concat(i)),(0,T.jsx)(_.ZP,{default:!0,monospace:!0,children:m},"trigger_run_count_".concat(i))]),n||H.push((0,T.jsx)("div",{children:(0,T.jsx)(j.Z,{tags:null===N||void 0===N?void 0:N.map((function(e){return{uuid:e}}))})},"pipeline_tags_".concat(i))),H.push((0,T.jsx)(a.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return M.push("/pipelines/".concat(V,"/logs?pipeline_schedule_id[]=").concat(t))},children:(0,T.jsx)(Z.UL,{default:!0,size:C.bL})},"logs_button_".concat(i))),n||(0,E.Ct)()||H.push((0,T.jsxs)(p.ZP,{children:[(0,T.jsx)(a.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return M.push("/pipelines/".concat(V,"/triggers/").concat(t,"/edit"))},title:"Edit",children:(0,T.jsx)(Z.I8,{default:!0,size:C.bL})}),(0,T.jsx)(x.Z,{mr:1}),(0,T.jsx)(a.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){var e,n,i,l;$(t),J((null===(e=X.current[t])||void 0===e||null===(n=e.current)||void 0===n?void 0:n.offsetTop)||0),ne((null===(i=X.current[t])||void 0===i||null===(l=i.current)||void 0===l?void 0:l.offsetLeft)||0)},ref:X.current[t],title:"Delete",children:(0,T.jsx)(Z.rF,{default:!0,size:C.bL})}),(0,T.jsx)(d.Z,{onClickOutside:function(){return $(null)},open:K===t,children:(0,T.jsx)(f.Z,{danger:!0,left:(ee||0)-k.nH,onCancel:function(){return $(null)},onClick:function(){$(null),ue(t)},title:"Are you sure you want to delete the trigger ".concat(S,"?"),top:(Y||0)-(i<=1?k.oz:k.OK),width:k.Xx})})]},"edit_delete_buttons_".concat(i))),!n&&O&&H.splice(2,0,(0,T.jsx)(_.ZP,{default:!0,monospace:!0,children:V},"pipeline_name_".concat(i))),!n&&r&&H.splice(5,0,(0,T.jsx)(_.ZP,{default:!0,monospace:!0,small:!0,title:l?"UTC: ".concat(l.slice(0,19)):null,children:(0,I.XG)(null===l||void 0===l?void 0:l.slice(0,19),ie)},"created_at_".concat(i))),H})),stickyHeader:H,uuid:"pipeline-triggers"})})}},31882:function(e,n,i){var t=i(38626),l=i(71180),r=i(55485),c=i(38276),u=i(30160),o=i(44897),s=i(72473),a=i(70515),d=i(61896),p=i(28598),h=t.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||o.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||o.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((a.iI+d.Al)/2,"px;\n    height: ").concat(1.5*a.iI+d.Al,"px;\n    padding: ").concat(a.iI/1.5,"px ").concat(1.25*a.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((a.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+a.iI/2+2,"px;\n    padding: ").concat(a.iI/4,"px ").concat(a.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||o.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,i=e.children,t=e.disabled,o=e.label,d=e.onClick,g=e.primary,f=e.small;return(0,p.jsx)(h,{border:n,primary:g,small:f,children:(0,p.jsx)(l.Z,{basic:!0,disabled:t,noBackground:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,p.jsxs)(r.ZP,{alignItems:"center",children:[i,o&&(0,p.jsx)(u.ZP,{small:f,children:o}),!t&&d&&(0,p.jsx)(c.Z,{ml:1,children:(0,p.jsx)(s.x8,{default:g,muted:!g,size:f?a.iI:1.25*a.iI})})]})})})}}}]);