import{S as H,e as J,s as N,F as D,o as V,Q as W,G as B,h as S,r as Z,u as d,v as A,w as g,k as C,H as j,D as K,C as Y,a7 as X,R as P,m as q,g as v,j as G,U as y,X as p,a9 as x,ab as $,ac as ee,ad as le,Z as ne,af as ae,V as oe,W as te}from"./index-7126cebd.js";import{B as ie,n as se}from"./Button-37f34d44.js";import{U as fe}from"./UploadText-6dec69ac.js";import{U as _e}from"./Upload-a0c31c98.js";import{M as ue}from"./ModifyUpload-33165bca.js";import{B as re}from"./BlockLabel-b2cd79fc.js";import{F as ce}from"./File-63402202.js";import{b as me,c as de,r as ge}from"./babylonjs.loaders.min-d194eb42.js";import"./IconButton-72976f8c.js";import"./Undo-cbf274e0.js";function be(a){let e,n,l,o,s;return n=new ue({props:{undoable:!0,i18n:a[4],absolute:!0}}),n.$on("clear",a[8]),n.$on("undo",a[9]),{c(){e=q("div"),D(n.$$.fragment),l=V(),o=q("canvas"),v(o,"class","svelte-15mfcnc"),v(e,"class","input-model svelte-15mfcnc")},m(_,t){S(_,e,t),B(n,e,null),G(e,l),G(e,o),a[18](o),s=!0},p(_,t){const i={};t&16&&(i.i18n=_[4]),n.$set(i)},i(_){s||(g(n.$$.fragment,_),s=!0)},o(_){d(n.$$.fragment,_),s=!1},d(_){_&&C(e),j(n),a[18](null)}}}function he(a){let e,n,l;function o(_){a[17](_)}let s={root:a[3],filetype:".obj, .gltf, .glb",$$slots:{default:[we]},$$scope:{ctx:a}};return a[6]!==void 0&&(s.dragging=a[6]),e=new _e({props:s}),P.push(()=>y(e,"dragging",o)),e.$on("load",a[7]),{c(){D(e.$$.fragment)},m(_,t){B(e,_,t),l=!0},p(_,t){const i={};t&8&&(i.root=_[3]),t&524288&&(i.$$scope={dirty:t,ctx:_}),!n&&t&64&&(n=!0,i.dragging=_[6],p(()=>n=!1)),e.$set(i)},i(_){l||(g(e.$$.fragment,_),l=!0)},o(_){d(e.$$.fragment,_),l=!1},d(_){j(e,_)}}}function we(a){let e;const n=a[16].default,l=x(n,a,a[19],null);return{c(){l&&l.c()},m(o,s){l&&l.m(o,s),e=!0},p(o,s){l&&l.p&&(!e||s&524288)&&$(l,n,o,o[19],e?le(n,o[19],s,null):ee(o[19]),null)},i(o){e||(g(l,o),e=!0)},o(o){d(l,o),e=!1},d(o){l&&l.d(o)}}}function ke(a){let e,n,l,o,s,_;e=new re({props:{show_label:a[2],Icon:ce,label:a[1]||"3D Model"}});const t=[he,be],i=[];function m(u,c){return u[0]===null?0:1}return l=m(a),o=i[l]=t[l](a),{c(){D(e.$$.fragment),n=V(),o.c(),s=W()},m(u,c){B(e,u,c),S(u,n,c),i[l].m(u,c),S(u,s,c),_=!0},p(u,[c]){const b={};c&4&&(b.show_label=u[2]),c&2&&(b.label=u[1]||"3D Model"),e.$set(b);let h=l;l=m(u),l===h?i[l].p(u,c):(Z(),d(i[h],1,1,()=>{i[h]=null}),A(),o=i[l],o?o.p(u,c):(o=i[l]=t[l](u),o.c()),g(o,1),o.m(s.parentNode,s))},i(u){_||(g(e.$$.fragment,u),g(o),_=!0)},o(u){d(e.$$.fragment,u),d(o),_=!1},d(u){u&&(C(n),C(s)),j(e,u),i[l].d(u)}}}function ze(a,e,n){let l,o,s,{$$slots:_={},$$scope:t}=e,{value:i}=e,{clear_color:m=[0,0,0,0]}=e,{label:u=""}=e,{show_label:c}=e,{root:b}=e,{i18n:h}=e,{zoom_speed:M=1}=e,{camera_position:U=[null,null,null]}=e,w=!1,k,z,E;function F(){z=de(k,z,E,i,m,U,M)}K(()=>{i!=null&&F(),n(13,w=!0)});async function R({detail:r}){n(0,i=r),await X(),F(),O("change",i)}async function L(){z&&E&&(z.dispose(),E.dispose()),n(0,i=null),await X(),O("clear")}async function T(){ge(z,U,M)}const O=Y();let I=!1;me.OBJFileLoader.IMPORT_VERTEX_COLORS=!0;function f(r){I=r,n(6,I)}function Q(r){P[r?"unshift":"push"](()=>{k=r,n(5,k)})}return a.$$set=r=>{"value"in r&&n(0,i=r.value),"clear_color"in r&&n(10,m=r.clear_color),"label"in r&&n(1,u=r.label),"show_label"in r&&n(2,c=r.show_label),"root"in r&&n(3,b=r.root),"i18n"in r&&n(4,h=r.i18n),"zoom_speed"in r&&n(11,M=r.zoom_speed),"camera_position"in r&&n(12,U=r.camera_position),"$$scope"in r&&n(19,t=r.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&n(15,{data:l,is_file:o,name:s}=i||{data:void 0,is_file:void 0,name:void 0},l,(n(14,o),n(0,i))),a.$$.dirty&57376&&k&&w&&l!=null&&o&&F(),a.$$.dirty&64&&O("drag",I)},[i,u,c,b,h,k,I,R,L,T,m,M,U,w,o,l,_,f,Q,t]}class Me extends H{constructor(e){super(),J(this,e,ze,ke,N,{value:0,clear_color:10,label:1,show_label:2,root:3,i18n:4,zoom_speed:11,camera_position:12})}}function Ue(a){let e,n;return e=new fe({props:{i18n:a[12].i18n,type:"file"}}),{c(){D(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,o){const s={};o&4096&&(s.i18n=l[12].i18n),e.$set(s)},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function De(a){let e,n,l,o;const s=[{i18n:a[12].i18n},a[6]];let _={};for(let t=0;t<s.length;t+=1)_=ne(_,s[t]);return e=new ae({props:_}),l=new Me({props:{label:a[7],show_label:a[8],root:a[4],clear_color:a[5],value:a[16],camera_position:a[15],zoom_speed:a[13],i18n:a[12].i18n,$$slots:{default:[Ue]},$$scope:{ctx:a}}}),l.$on("change",a[19]),l.$on("drag",a[20]),l.$on("change",a[21]),l.$on("clear",a[22]),{c(){D(e.$$.fragment),n=V(),D(l.$$.fragment)},m(t,i){B(e,t,i),S(t,n,i),B(l,t,i),o=!0},p(t,i){const m=i&4160?oe(s,[i&4096&&{i18n:t[12].i18n},i&64&&te(t[6])]):{};e.$set(m);const u={};i&128&&(u.label=t[7]),i&256&&(u.show_label=t[8]),i&16&&(u.root=t[4]),i&32&&(u.clear_color=t[5]),i&65536&&(u.value=t[16]),i&32768&&(u.camera_position=t[15]),i&8192&&(u.zoom_speed=t[13]),i&4096&&(u.i18n=t[12].i18n),i&8392704&&(u.$$scope={dirty:i,ctx:t}),l.$set(u)},i(t){o||(g(e.$$.fragment,t),g(l.$$.fragment,t),o=!0)},o(t){d(e.$$.fragment,t),d(l.$$.fragment,t),o=!1},d(t){t&&C(n),j(e,t),j(l,t)}}}function Be(a){let e,n;return e=new ie({props:{visible:a[3],variant:a[0]===null?"dashed":"solid",border_mode:a[17]?"focus":"base",padding:!1,elem_id:a[1],elem_classes:a[2],container:a[9],scale:a[10],min_width:a[11],height:a[14],$$slots:{default:[De]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,[o]){const s={};o&8&&(s.visible=l[3]),o&1&&(s.variant=l[0]===null?"dashed":"solid"),o&131072&&(s.border_mode=l[17]?"focus":"base"),o&2&&(s.elem_id=l[1]),o&4&&(s.elem_classes=l[2]),o&512&&(s.container=l[9]),o&1024&&(s.scale=l[10]),o&2048&&(s.min_width=l[11]),o&16384&&(s.height=l[14]),o&8630769&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function je(a,e,n){let{elem_id:l=""}=e,{elem_classes:o=[]}=e,{visible:s=!0}=e,{value:_=null}=e,{root:t}=e,{root_url:i}=e,{clear_color:m}=e,{loading_status:u}=e,{label:c}=e,{show_label:b}=e,{container:h=!0}=e,{scale:M=null}=e,{min_width:U=void 0}=e,{gradio:w}=e,{zoom_speed:k=1}=e,{height:z=void 0}=e,{camera_position:E=[null,null,null]}=e,F,R=!1;const L=({detail:f})=>n(0,_=f),T=({detail:f})=>n(17,R=f),O=({detail:f})=>w.dispatch("change",f),I=()=>w.dispatch("clear");return a.$$set=f=>{"elem_id"in f&&n(1,l=f.elem_id),"elem_classes"in f&&n(2,o=f.elem_classes),"visible"in f&&n(3,s=f.visible),"value"in f&&n(0,_=f.value),"root"in f&&n(4,t=f.root),"root_url"in f&&n(18,i=f.root_url),"clear_color"in f&&n(5,m=f.clear_color),"loading_status"in f&&n(6,u=f.loading_status),"label"in f&&n(7,c=f.label),"show_label"in f&&n(8,b=f.show_label),"container"in f&&n(9,h=f.container),"scale"in f&&n(10,M=f.scale),"min_width"in f&&n(11,U=f.min_width),"gradio"in f&&n(12,w=f.gradio),"zoom_speed"in f&&n(13,k=f.zoom_speed),"height"in f&&n(14,z=f.height),"camera_position"in f&&n(15,E=f.camera_position)},a.$$.update=()=>{a.$$.dirty&262161&&n(16,F=se(_,t,i))},[_,l,o,s,t,m,u,c,b,h,M,U,w,k,z,E,F,R,i,L,T,O,I]}class Ee extends H{constructor(e){super(),J(this,e,je,Be,N,{elem_id:1,elem_classes:2,visible:3,value:0,root:4,root_url:18,clear_color:5,loading_status:6,label:7,show_label:8,container:9,scale:10,min_width:11,gradio:12,zoom_speed:13,height:14,camera_position:15})}}const qe=Ee;export{qe as default};
//# sourceMappingURL=index-a761fb4d.js.map
