import{S as M,e as O,s as P,a9 as Q,m as q,o as V,g as f,N as v,h as W,j as U,p as d,q as b,ai as m,ab as X,ac as Y,ad as Z,w as x,u as $,k as ee,B as ne,as as le,at as ie,C as ae,E as y,R as te,a7 as re}from"./index-7126cebd.js";import{b as se,n as oe}from"./Button-37f34d44.js";function ue(l){let n,t,r,g,k,_,a,w,F;const A=l[14].default,s=Q(A,l,l[13],null);return{c(){n=q("div"),s&&s.c(),t=V(),r=q("input"),f(r,"type","file"),f(r,"accept",l[0]),r.multiple=g=l[4]==="multiple"||void 0,f(r,"webkitdirectory",k=l[4]==="directory"||void 0),f(r,"mozdirectory",_=l[4]==="directory"||void 0),f(r,"class","svelte-116rqfv"),f(n,"class","svelte-116rqfv"),v(n,"center",l[2]),v(n,"boundedheight",l[1]),v(n,"flex",l[3])},m(i,o){W(i,n,o),s&&s.m(n,null),U(n,t),U(n,r),l[22](r),a=!0,w||(F=[d(r,"change",l[8]),d(n,"drag",b(m(l[15]))),d(n,"dragstart",b(m(l[16]))),d(n,"dragend",b(m(l[17]))),d(n,"dragover",b(m(l[18]))),d(n,"dragenter",b(m(l[19]))),d(n,"dragleave",b(m(l[20]))),d(n,"drop",b(m(l[21]))),d(n,"click",l[7]),d(n,"drop",l[9]),d(n,"dragenter",l[6]),d(n,"dragleave",l[6])],w=!0)},p(i,[o]){s&&s.p&&(!a||o&8192)&&X(s,A,i,i[13],a?Z(A,i[13],o,null):Y(i[13]),null),(!a||o&1)&&f(r,"accept",i[0]),(!a||o&16&&g!==(g=i[4]==="multiple"||void 0))&&(r.multiple=g),(!a||o&16&&k!==(k=i[4]==="directory"||void 0))&&f(r,"webkitdirectory",k),(!a||o&16&&_!==(_=i[4]==="directory"||void 0))&&f(r,"mozdirectory",_),(!a||o&4)&&v(n,"center",i[2]),(!a||o&2)&&v(n,"boundedheight",i[1]),(!a||o&8)&&v(n,"flex",i[3])},i(i){a||(x(s,i),a=!0)},o(i){$(s,i),a=!1},d(i){i&&ee(n),s&&s.d(i),l[22](null),w=!1,ne(F)}}}function de(l,n,t){let{$$slots:r={},$$scope:g}=n;const k=le("upload_files")??ie;let{filetype:_=null}=n,{dragging:a=!1}=n,{boundedheight:w=!0}=n,{center:F=!0}=n,{flex:A=!0}=n,{file_count:s="single"}=n,{disable_click:i=!1}=n,{root:o}=n,p;const C=ae();function D(){t(10,a=!a)}function T(){i||(t(5,p.value="",p),p.click())}async function B(e){await re();let h=(Array.isArray(e)?e:[e]).map(c=>c.blob);await k(o,h).then(async c=>{c.error?(Array.isArray(e)?e:[e]).forEach(async(u,z)=>{u.data=await se(u.blob),u.blob=void 0}):(Array.isArray(e)?e:[e]).forEach((u,z)=>{c.files&&(u.orig_name=u.name,u.name=c.files[z],u.is_file=!0,u.blob=void 0,oe(u,o,null))})}),C("load",s==="single"?e[0]:e)}async function E(e){let h=Array.from(e);if(e.length){s==="single"&&(h=[e[0]]);var c=[];h.forEach((u,z)=>{c[z]={name:u.name,size:u.size,data:"",blob:u}}),await B(c)}}async function S(e){const h=e.target;h.files&&await E(h.files)}async function j(e){t(10,a=!1),e.dataTransfer?.files&&await E(e.dataTransfer.files)}function N(e){y.call(this,l,e)}function R(e){y.call(this,l,e)}function G(e){y.call(this,l,e)}function H(e){y.call(this,l,e)}function I(e){y.call(this,l,e)}function J(e){y.call(this,l,e)}function K(e){y.call(this,l,e)}function L(e){te[e?"unshift":"push"](()=>{p=e,t(5,p)})}return l.$$set=e=>{"filetype"in e&&t(0,_=e.filetype),"dragging"in e&&t(10,a=e.dragging),"boundedheight"in e&&t(1,w=e.boundedheight),"center"in e&&t(2,F=e.center),"flex"in e&&t(3,A=e.flex),"file_count"in e&&t(4,s=e.file_count),"disable_click"in e&&t(11,i=e.disable_click),"root"in e&&t(12,o=e.root),"$$scope"in e&&t(13,g=e.$$scope)},[_,w,F,A,s,p,D,T,S,j,a,i,o,g,r,N,R,G,H,I,J,K,L]}class ge extends M{constructor(n){super(),O(this,n,de,ue,P,{filetype:0,dragging:10,boundedheight:1,center:2,flex:3,file_count:4,disable_click:11,root:12})}}export{ge as U};
//# sourceMappingURL=Upload-a0c31c98.js.map
