import{S as x,e as ee,s as le,Q,h as S,n as ie,k as T,m as O,g as h,K as M,p as w,B as D,r as R,u as j,v as q,w as p,D as nl,C as tl,I as A,o as V,O as Y,t as W,N as I,j as H,x as $,R as ne,U as te,F as K,G as U,X as oe,H as G,Z as ol,af as il,V as sl,W as al}from"./index-2a12d152.js";import{g as fl}from"./color-3533be7f.js";import{B as ul}from"./Button-78bec17a.js";import{c as rl,m as Se,T as Te}from"./utils-f5e26fbe.js";import{B as _l}from"./BlockLabel-d43f08db.js";import{E as cl}from"./Empty-a86f5fbb.js";function dl(e){let l,n,o,i;return{c(){l=O("input"),h(l,"class","label-input svelte-1cag2po"),l.autofocus=!0,h(l,"type","number"),h(l,"step","0.1"),h(l,"style",n="background-color: rgba("+(typeof e[1]=="number"&&e[1]<0?"128, 90, 213,"+-e[1]:"239, 68, 60,"+e[1])+")"),l.value=e[1],M(l,"width","7ch")},m(a,t){S(a,l,t),l.focus(),o||(i=[w(l,"input",e[8]),w(l,"blur",e[14]),w(l,"keydown",e[15])],o=!0)},p(a,t){t&2&&n!==(n="background-color: rgba("+(typeof a[1]=="number"&&a[1]<0?"128, 90, 213,"+-a[1]:"239, 68, 60,"+a[1])+")")&&h(l,"style",n),t&2&&l.value!==a[1]&&(l.value=a[1]),t&2&&M(l,"width","7ch")},d(a){a&&T(l),o=!1,D(i)}}}function hl(e){let l,n,o,i;return{c(){l=O("input"),h(l,"class","label-input svelte-1cag2po"),l.autofocus=!0,h(l,"id",n=`label-input-${e[3]}`),h(l,"type","text"),h(l,"placeholder","label"),l.value=e[1],M(l,"background-color",e[1]===null||e[2]&&e[2]!==e[1]?"":e[6][e[1]].primary),M(l,"width",e[7]?e[7].toString()?.length+4+"ch":"8ch")},m(a,t){S(a,l,t),l.focus(),o||(i=[w(l,"input",e[8]),w(l,"blur",e[12]),w(l,"keydown",e[13]),w(l,"focus",gl)],o=!0)},p(a,t){t&8&&n!==(n=`label-input-${a[3]}`)&&h(l,"id",n),t&2&&l.value!==a[1]&&(l.value=a[1]),t&70&&M(l,"background-color",a[1]===null||a[2]&&a[2]!==a[1]?"":a[6][a[1]].primary),t&128&&M(l,"width",a[7]?a[7].toString()?.length+4+"ch":"8ch")},d(a){a&&T(l),o=!1,D(i)}}}function ml(e){let l;function n(a,t){return a[5]?dl:hl}let o=n(e),i=o(e);return{c(){i.c(),l=Q()},m(a,t){i.m(a,t),S(a,l,t)},p(a,[t]){o===(o=n(a))&&i?i.p(a,t):(i.d(1),i=o(a),i&&(i.c(),i.m(l.parentNode,l)))},i:ie,o:ie,d(a){a&&T(l),i.d(a)}}}function gl(e){let l=e.target;l&&l.placeholder&&(l.placeholder="")}function bl(e,l,n){let{value:o}=l,{category:i}=l,{active:a}=l,{labelToEdit:t}=l,{indexOfLabel:f}=l,{text:s}=l,{handleValueChange:r}=l,{isScoresMode:u=!1}=l,{_color_map:v}=l,y=i;function b(d){let c=d.target;c&&n(7,y=c.value)}function m(d,c,z){let N=d.target;n(10,o=[...o.slice(0,c),{token:z,class_or_confidence:N.value===""?null:u?Number(N.value):N.value},...o.slice(c+1)]),r()}const g=d=>m(d,f,s),k=d=>{d.key==="Enter"&&(m(d,f,s),n(0,t=-1))},C=d=>m(d,f,s),E=d=>{d.key==="Enter"&&(m(d,f,s),n(0,t=-1))};return e.$$set=d=>{"value"in d&&n(10,o=d.value),"category"in d&&n(1,i=d.category),"active"in d&&n(2,a=d.active),"labelToEdit"in d&&n(0,t=d.labelToEdit),"indexOfLabel"in d&&n(3,f=d.indexOfLabel),"text"in d&&n(4,s=d.text),"handleValueChange"in d&&n(11,r=d.handleValueChange),"isScoresMode"in d&&n(5,u=d.isScoresMode),"_color_map"in d&&n(6,v=d._color_map)},[t,i,a,f,s,u,v,y,b,m,o,r,g,k,C,E]}class ze extends x{constructor(l){super(),ee(this,l,bl,ml,le,{value:10,category:1,active:2,labelToEdit:0,indexOfLabel:3,text:4,handleValueChange:11,isScoresMode:5,_color_map:6})}}function se(e,l,n){const o=e.slice();o[45]=l[n].token,o[46]=l[n].class_or_confidence,o[48]=n;const i=typeof o[46]=="string"?parseInt(o[46]):o[46];return o[54]=i,o}function ae(e,l,n){const o=e.slice();return o[45]=l[n].token,o[46]=l[n].class_or_confidence,o[48]=n,o}function fe(e,l,n){const o=e.slice();return o[49]=l[n],o[51]=n,o}function ue(e,l,n){const o=e.slice();return o[46]=l[n][0],o[52]=l[n][1],o[48]=n,o}function kl(e){let l,n,o,i=e[1]&&re(),a=A(e[0]),t=[];for(let s=0;s<a.length;s+=1)t[s]=de(se(e,a,s));const f=s=>j(t[s],1,1,()=>{t[s]=null});return{c(){i&&i.c(),l=V(),n=O("div");for(let s=0;s<t.length;s+=1)t[s].c();h(n,"class","textfield svelte-1ozsnjl"),h(n,"data-testid","highlighted-text:textfield")},m(s,r){i&&i.m(s,r),S(s,l,r),S(s,n,r);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(n,null);o=!0},p(s,r){if(s[1]?i||(i=re(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null),r[0]&889){a=A(s[0]);let u;for(u=0;u<a.length;u+=1){const v=se(s,a,u);t[u]?(t[u].p(v,r),p(t[u],1)):(t[u]=de(v),t[u].c(),p(t[u],1),t[u].m(n,null))}for(R(),u=a.length;u<t.length;u+=1)f(u);q()}},i(s){if(!o){for(let r=0;r<a.length;r+=1)p(t[r]);o=!0}},o(s){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)j(t[r]);o=!1},d(s){s&&(T(l),T(n)),i&&i.d(s),Y(t,s)}}}function pl(e){let l,n,o,i=e[1]&&he(e),a=A(e[0]),t=[];for(let s=0;s<a.length;s+=1)t[s]=je(ae(e,a,s));const f=s=>j(t[s],1,1,()=>{t[s]=null});return{c(){i&&i.c(),l=V(),n=O("div");for(let s=0;s<t.length;s+=1)t[s].c();h(n,"class","textfield svelte-1ozsnjl")},m(s,r){i&&i.m(s,r),S(s,l,r),S(s,n,r);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(n,null);o=!0},p(s,r){if(s[1]?i?i.p(s,r):(i=he(s),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null),r[0]&13183){a=A(s[0]);let u;for(u=0;u<a.length;u+=1){const v=ae(s,a,u);t[u]?(t[u].p(v,r),p(t[u],1)):(t[u]=je(v),t[u].c(),p(t[u],1),t[u].m(n,null))}for(R(),u=a.length;u<t.length;u+=1)f(u);q()}},i(s){if(!o){for(let r=0;r<a.length;r+=1)p(t[r]);o=!0}},o(s){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)j(t[r]);o=!1},d(s){s&&(T(l),T(n)),i&&i.d(s),Y(t,s)}}}function re(e){let l;return{c(){l=O("div"),l.innerHTML="<span>-1</span> <span>0</span> <span>+1</span>",h(l,"class","color-legend svelte-1ozsnjl"),h(l,"data-testid","highlighted-text:color-legend")},m(n,o){S(n,l,o)},d(n){n&&T(l)}}}function _e(e){let l,n,o;function i(t){e[32](t)}let a={labelToEdit:e[6],_color_map:e[3],category:e[46],active:e[5],indexOfLabel:e[48],text:e[45],handleValueChange:e[9],isScoresMode:!0};return e[0]!==void 0&&(a.value=e[0]),l=new ze({props:a}),ne.push(()=>te(l,"value",i)),{c(){K(l.$$.fragment)},m(t,f){U(l,t,f),o=!0},p(t,f){const s={};f[0]&64&&(s.labelToEdit=t[6]),f[0]&8&&(s._color_map=t[3]),f[0]&1&&(s.category=t[46]),f[0]&32&&(s.active=t[5]),f[0]&1&&(s.text=t[45]),!n&&f[0]&1&&(n=!0,s.value=t[0],oe(()=>n=!1)),l.$set(s)},i(t){o||(p(l.$$.fragment,t),o=!0)},o(t){j(l.$$.fragment,t),o=!1},d(t){G(l,t)}}}function ce(e){let l,n,o;function i(){return e[37](e[48])}function a(...t){return e[38](e[48],...t)}return{c(){l=O("span"),l.textContent="Ã—",h(l,"class","label-clear-button svelte-1ozsnjl"),h(l,"role","button"),h(l,"aria-roledescription","Remove label from text"),h(l,"tabindex","0")},m(t,f){S(t,l,f),n||(o=[w(l,"click",i),w(l,"keydown",a)],n=!0)},p(t,f){e=t},d(t){t&&T(l),n=!1,D(o)}}}function de(e){let l,n,o,i=e[45]+"",a,t,f,s,r,u,v,y,b=e[46]&&e[6]===e[48]&&_e(e);function m(){return e[33](e[48])}function g(){return e[34](e[48])}function k(){return e[35](e[48])}function C(...d){return e[36](e[48],...d)}let E=e[46]&&e[4]===e[48]&&ce(e);return{c(){l=O("span"),n=O("span"),o=O("span"),a=W(i),t=V(),b&&b.c(),s=V(),E&&E.c(),r=V(),h(o,"class","text svelte-1ozsnjl"),h(n,"class","textspan score-text svelte-1ozsnjl"),h(n,"role","button"),h(n,"tabindex","0"),h(n,"style",f="background-color: rgba("+(e[54]&&e[54]<0?"128, 90, 213,"+-e[54]:"239, 68, 60,"+e[54])+")"),I(n,"no-cat",e[46]===null||e[5]&&e[5]!==e[46]),I(n,"hl",e[46]!==null),h(l,"class","score-text-container svelte-1ozsnjl")},m(d,c){S(d,l,c),H(l,n),H(n,o),H(o,a),H(n,t),b&&b.m(n,null),H(l,s),E&&E.m(l,null),H(l,r),u=!0,v||(y=[w(n,"mouseover",m),w(n,"focus",g),w(n,"click",k),w(n,"keydown",C)],v=!0)},p(d,c){e=d,(!u||c[0]&1)&&i!==(i=e[45]+"")&&$(a,i),e[46]&&e[6]===e[48]?b?(b.p(e,c),c[0]&65&&p(b,1)):(b=_e(e),b.c(),p(b,1),b.m(n,null)):b&&(R(),j(b,1,1,()=>{b=null}),q()),(!u||c[0]&1&&f!==(f="background-color: rgba("+(e[54]&&e[54]<0?"128, 90, 213,"+-e[54]:"239, 68, 60,"+e[54])+")"))&&h(n,"style",f),(!u||c[0]&33)&&I(n,"no-cat",e[46]===null||e[5]&&e[5]!==e[46]),(!u||c[0]&1)&&I(n,"hl",e[46]!==null),e[46]&&e[4]===e[48]?E?E.p(e,c):(E=ce(e),E.c(),E.m(l,r)):E&&(E.d(1),E=null)},i(d){u||(p(b),u=!0)},o(d){j(b),u=!1},d(d){d&&T(l),b&&b.d(),E&&E.d(),v=!1,D(y)}}}function he(e){let l,n=e[3]&&me(e);return{c(){l=O("div"),n&&n.c(),h(l,"class","class_or_confidence-legend svelte-1ozsnjl"),h(l,"data-testid","highlighted-text:class_or_confidence-legend")},m(o,i){S(o,l,i),n&&n.m(l,null)},p(o,i){o[3]?n?n.p(o,i):(n=me(o),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(o){o&&T(l),n&&n.d()}}}function me(e){let l,n=A(Object.entries(e[3])),o=[];for(let i=0;i<n.length;i+=1)o[i]=ge(ue(e,n,i));return{c(){for(let i=0;i<o.length;i+=1)o[i].c();l=Q()},m(i,a){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(i,a);S(i,l,a)},p(i,a){if(a[0]&3080){n=A(Object.entries(i[3]));let t;for(t=0;t<n.length;t+=1){const f=ue(i,n,t);o[t]?o[t].p(f,a):(o[t]=ge(f),o[t].c(),o[t].m(l.parentNode,l))}for(;t<o.length;t+=1)o[t].d(1);o.length=n.length}},d(i){i&&T(l),Y(o,i)}}}function ge(e){let l,n=e[46]+"",o,i,a,t,f;function s(){return e[15](e[46])}function r(){return e[16](e[46])}return{c(){l=O("div"),o=W(n),i=V(),h(l,"role","button"),h(l,"aria-roledescription","Categories of highlighted text. Hover to see text with this class_or_confidence highlighted."),h(l,"tabindex","0"),h(l,"class","class_or_confidence-label svelte-1ozsnjl"),h(l,"style",a="background-color:"+e[52].secondary)},m(u,v){S(u,l,v),H(l,o),H(l,i),t||(f=[w(l,"mouseover",s),w(l,"focus",r),w(l,"mouseout",e[17]),w(l,"blur",e[18])],t=!0)},p(u,v){e=u,v[0]&8&&n!==(n=e[46]+"")&&$(o,n),v[0]&8&&a!==(a="background-color:"+e[52].secondary)&&h(l,"style",a)},d(u){u&&T(l),t=!1,D(f)}}}function be(e){let l,n,o,i=e[49]+"",a,t,f,s,r,u,v;function y(){return e[20](e[48])}function b(){return e[21](e[48])}function m(){return e[22](e[48])}let g=!e[1]&&e[46]!==null&&e[6]!==e[48]&&ke(e),k=e[6]===e[48]&&e[46]!==null&&pe(e);function C(){return e[26](e[46],e[48],e[45])}function E(...N){return e[27](e[46],e[48],e[45],...N)}function d(){return e[28](e[48])}function c(){return e[29](e[48])}let z=e[46]!==null&&ve(e);return{c(){l=O("span"),n=O("span"),o=O("span"),a=W(i),t=V(),g&&g.c(),f=V(),k&&k.c(),s=V(),z&&z.c(),h(o,"class","text svelte-1ozsnjl"),h(o,"role","button"),h(o,"tabindex","0"),I(o,"no-label",e[46]===null),h(n,"role","button"),h(n,"tabindex","0"),h(n,"class","textspan svelte-1ozsnjl"),I(n,"no-cat",e[46]===null||e[5]&&e[5]!==e[46]),I(n,"hl",e[46]!==null),I(n,"selectable",e[2]),M(n,"background-color",e[46]===null||e[5]&&e[5]!==e[46]?"":e[46]&&e[3][e[46]]?e[3][e[46]].secondary:""),h(l,"class","text-class_or_confidence-container svelte-1ozsnjl")},m(N,B){S(N,l,B),H(l,n),H(n,o),H(o,a),H(n,t),g&&g.m(n,null),H(n,f),k&&k.m(n,null),H(l,s),z&&z.m(l,null),r=!0,u||(v=[w(o,"keydown",e[19]),w(o,"focus",y),w(o,"mouseover",b),w(o,"click",m),w(n,"click",C),w(n,"keydown",E),w(n,"focus",d),w(n,"mouseover",c)],u=!0)},p(N,B){e=N,(!r||B[0]&1)&&i!==(i=e[49]+"")&&$(a,i),(!r||B[0]&1)&&I(o,"no-label",e[46]===null),!e[1]&&e[46]!==null&&e[6]!==e[48]?g?g.p(e,B):(g=ke(e),g.c(),g.m(n,f)):g&&(g.d(1),g=null),e[6]===e[48]&&e[46]!==null?k?(k.p(e,B),B[0]&65&&p(k,1)):(k=pe(e),k.c(),p(k,1),k.m(n,null)):k&&(R(),j(k,1,1,()=>{k=null}),q()),(!r||B[0]&33)&&I(n,"no-cat",e[46]===null||e[5]&&e[5]!==e[46]),(!r||B[0]&1)&&I(n,"hl",e[46]!==null),(!r||B[0]&4)&&I(n,"selectable",e[2]),B[0]&41&&M(n,"background-color",e[46]===null||e[5]&&e[5]!==e[46]?"":e[46]&&e[3][e[46]]?e[3][e[46]].secondary:""),e[46]!==null?z?z.p(e,B):(z=ve(e),z.c(),z.m(l,null)):z&&(z.d(1),z=null)},i(N){r||(p(k),r=!0)},o(N){j(k),r=!1},d(N){N&&T(l),g&&g.d(),k&&k.d(),z&&z.d(),u=!1,D(v)}}}function ke(e){let l,n=e[46]+"",o,i,a;function t(){return e[23](e[48])}function f(){return e[24](e[48])}return{c(){l=O("span"),o=W(n),h(l,"id",`label-tag-${e[48]}`),h(l,"class","label svelte-1ozsnjl"),h(l,"role","button"),h(l,"tabindex","0"),M(l,"background-color",e[46]===null||e[5]&&e[5]!==e[46]?"":e[3][e[46]].primary)},m(s,r){S(s,l,r),H(l,o),i||(a=[w(l,"click",t),w(l,"keydown",f)],i=!0)},p(s,r){e=s,r[0]&1&&n!==(n=e[46]+"")&&$(o,n),r[0]&41&&M(l,"background-color",e[46]===null||e[5]&&e[5]!==e[46]?"":e[3][e[46]].primary)},d(s){s&&T(l),i=!1,D(a)}}}function pe(e){let l,n,o,i;function a(f){e[25](f)}let t={labelToEdit:e[6],category:e[46],active:e[5],_color_map:e[3],indexOfLabel:e[48],text:e[45],handleValueChange:e[9]};return e[0]!==void 0&&(t.value=e[0]),n=new ze({props:t}),ne.push(()=>te(n,"value",a)),{c(){l=W(`Â 
									`),K(n.$$.fragment)},m(f,s){S(f,l,s),U(n,f,s),i=!0},p(f,s){const r={};s[0]&64&&(r.labelToEdit=f[6]),s[0]&1&&(r.category=f[46]),s[0]&32&&(r.active=f[5]),s[0]&8&&(r._color_map=f[3]),s[0]&1&&(r.text=f[45]),!o&&s[0]&1&&(o=!0,r.value=f[0],oe(()=>o=!1)),n.$set(r)},i(f){i||(p(n.$$.fragment,f),i=!0)},o(f){j(n.$$.fragment,f),i=!1},d(f){f&&T(l),G(n,f)}}}function ve(e){let l,n,o;function i(){return e[30](e[48])}function a(...t){return e[31](e[48],...t)}return{c(){l=O("span"),l.textContent="Ã—",h(l,"class","label-clear-button svelte-1ozsnjl"),h(l,"role","button"),h(l,"aria-roledescription","Remove label from text"),h(l,"tabindex","0")},m(t,f){S(t,l,f),n||(o=[w(l,"click",i),w(l,"keydown",a)],n=!0)},p(t,f){e=t},d(t){t&&T(l),n=!1,D(o)}}}function we(e){let l;return{c(){l=O("br")},m(n,o){S(n,l,o)},d(n){n&&T(l)}}}function ye(e){let l=e[49].trim()!=="",n,o=e[51]<J(e[45]).length-1,i,a,t=l&&be(e),f=o&&we();return{c(){t&&t.c(),n=V(),f&&f.c(),i=Q()},m(s,r){t&&t.m(s,r),S(s,n,r),f&&f.m(s,r),S(s,i,r),a=!0},p(s,r){r[0]&1&&(l=s[49].trim()!==""),l?t?(t.p(s,r),r[0]&1&&p(t,1)):(t=be(s),t.c(),p(t,1),t.m(n.parentNode,n)):t&&(R(),j(t,1,1,()=>{t=null}),q()),r[0]&1&&(o=s[51]<J(s[45]).length-1),o?f||(f=we(),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null)},i(s){a||(p(t),a=!0)},o(s){j(t),a=!1},d(s){s&&(T(n),T(i)),t&&t.d(s),f&&f.d(s)}}}function je(e){let l,n,o=A(J(e[45])),i=[];for(let t=0;t<o.length;t+=1)i[t]=ye(fe(e,o,t));const a=t=>j(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();l=Q()},m(t,f){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(t,f);S(t,l,f),n=!0},p(t,f){if(f[0]&13183){o=A(J(t[45]));let s;for(s=0;s<o.length;s+=1){const r=fe(t,o,s);i[s]?(i[s].p(r,f),p(i[s],1)):(i[s]=ye(r),i[s].c(),p(i[s],1),i[s].m(l.parentNode,l))}for(R(),s=o.length;s<i.length;s+=1)a(s);q()}},i(t){if(!n){for(let f=0;f<o.length;f+=1)p(i[f]);n=!0}},o(t){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)j(i[f]);n=!1},d(t){t&&T(l),Y(i,t)}}}function vl(e){let l,n,o,i;const a=[pl,kl],t=[];function f(s,r){return s[7]==="categories"?0:1}return n=f(e),o=t[n]=a[n](e),{c(){l=O("div"),o.c(),h(l,"class","container svelte-1ozsnjl")},m(s,r){S(s,l,r),t[n].m(l,null),i=!0},p(s,r){let u=n;n=f(s),n===u?t[n].p(s,r):(R(),j(t[u],1,1,()=>{t[u]=null}),q(),o=t[n],o?o.p(s,r):(o=t[n]=a[n](s),o.c()),p(o,1),o.m(l,null))},i(s){i||(p(o),i=!0)},o(s){j(o),i=!1},d(s){s&&T(l),t[n].d()}}}function J(e){return e.split(`
`)}function wl(e,l,n){const o=typeof document<"u";let{value:i=[]}=l,{show_legend:a=!1}=l,{color_map:t={}}=l,{selectable:f=!1}=l,s=-1,r,u={},v="",y,b=-1;nl(()=>{const _=()=>{y=window.getSelection(),N(),window.removeEventListener("mouseup",_)};window.addEventListener("mousedown",()=>{window.addEventListener("mouseup",_)})});async function m(_,L){if(y?.toString()&&s!==-1&&i[s].token.toString().includes(y.toString())){const F=Symbol(),P=i[s].token,[$e,xe,el]=[P.substring(0,_),P.substring(_,L),P.substring(L)];let X=[...i.slice(0,s),{token:$e,class_or_confidence:null},{token:xe,class_or_confidence:E==="scores"?1:"label",flag:F},{token:el,class_or_confidence:null},...i.slice(s+1)];n(6,b=X.findIndex(({flag:Z})=>Z===F)),X=X.filter(Z=>Z.token.trim()!==""),n(0,i=X.map(({flag:Z,...ll})=>ll)),C(),document.getElementById(`label-input-${b}`)?.focus()}}const g=tl();function k(_){!i||_<0||_>=i.length||(n(0,i[_].class_or_confidence=null,i),n(0,i=Se(i,"equal")),C(),window.getSelection()?.empty())}function C(){g("change",i),n(6,b=-1),a&&(n(14,t={}),n(3,u={}))}let E;function d(_){n(5,v=_)}function c(){n(5,v="")}async function z(_){y=window.getSelection(),_.key==="Enter"&&N()}function N(){if(y&&y?.toString().trim()!==""){const _=y.getRangeAt(0).startOffset,L=y.getRangeAt(0).endOffset;m(_,L)}}function B(_,L,F){g("select",{index:_,value:[L,F]})}const Le=_=>d(_),Oe=_=>d(_),Ce=()=>c(),Ne=()=>c(),Be=_=>z(_),He=_=>n(4,s=_),Ie=_=>n(4,s=_),Ve=_=>n(6,b=_),Me=_=>n(6,b=_),Re=_=>n(6,b=_);function qe(_){i=_,n(0,i)}const Fe=(_,L,F)=>{_!==null&&B(L,F,_)},Ae=(_,L,F,P)=>{_!==null?(n(6,b=L),B(L,F,_)):z(P)},De=_=>n(4,s=_),Ke=_=>n(4,s=_),Ue=_=>k(_),Ge=(_,L)=>{L.key==="Enter"&&k(_)};function Pe(_){i=_,n(0,i)}const Qe=_=>n(4,s=_),We=_=>n(4,s=_),Xe=_=>n(6,b=_),Ze=(_,L)=>{L.key==="Enter"&&n(6,b=_)},Je=_=>k(_),Ye=(_,L)=>{L.key==="Enter"&&k(_)};return e.$$set=_=>{"value"in _&&n(0,i=_.value),"show_legend"in _&&n(1,a=_.show_legend),"color_map"in _&&n(14,t=_.color_map),"selectable"in _&&n(2,f=_.selectable)},e.$$.update=()=>{if(e.$$.dirty[0]&16393){if(t||n(14,t={}),i.length>0){for(let _ of i)if(_.class_or_confidence!==null)if(typeof _.class_or_confidence=="string"){if(n(7,E="categories"),!(_.class_or_confidence in t)){let L=fl(Object.keys(t).length);n(14,t[_.class_or_confidence]=L,t)}}else n(7,E="scores")}rl(t,u,o,r)}},[i,a,f,u,s,v,b,E,k,C,d,c,z,B,t,Le,Oe,Ce,Ne,Be,He,Ie,Ve,Me,Re,qe,Fe,Ae,De,Ke,Ue,Ge,Pe,Qe,We,Xe,Ze,Je,Ye]}class yl extends x{constructor(l){super(),ee(this,l,wl,vl,le,{value:0,show_legend:1,color_map:14,selectable:2},null,[-1,-1])}}function Ee(e){let l,n;return l=new _l({props:{Icon:Te,label:e[8],float:!1,disable:e[9]===!1}}),{c(){K(l.$$.fragment)},m(o,i){U(l,o,i),n=!0},p(o,i){const a={};i&256&&(a.label=o[8]),i&512&&(a.disable=o[9]===!1),l.$set(a)},i(o){n||(p(l.$$.fragment,o),n=!0)},o(o){j(l.$$.fragment,o),n=!1},d(o){G(l,o)}}}function jl(e){let l,n;return l=new cl({props:{$$slots:{default:[Sl]},$$scope:{ctx:e}}}),{c(){K(l.$$.fragment)},m(o,i){U(l,o,i),n=!0},p(o,i){const a={};i&131072&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){n||(p(l.$$.fragment,o),n=!0)},o(o){j(l.$$.fragment,o),n=!1},d(o){G(l,o)}}}function El(e){let l,n,o;function i(t){e[15](t)}let a={selectable:e[12],show_legend:e[7],color_map:e[1]};return e[0]!==void 0&&(a.value=e[0]),l=new yl({props:a}),ne.push(()=>te(l,"value",i)),l.$on("change",e[16]),{c(){K(l.$$.fragment)},m(t,f){U(l,t,f),o=!0},p(t,f){const s={};f&4096&&(s.selectable=t[12]),f&128&&(s.show_legend=t[7]),f&2&&(s.color_map=t[1]),!n&&f&1&&(n=!0,s.value=t[0],oe(()=>n=!1)),l.$set(s)},i(t){o||(p(l.$$.fragment,t),o=!0)},o(t){j(l.$$.fragment,t),o=!1},d(t){G(l,t)}}}function Sl(e){let l,n;return l=new Te({}),{c(){K(l.$$.fragment)},m(o,i){U(l,o,i),n=!0},i(o){n||(p(l.$$.fragment,o),n=!0)},o(o){j(l.$$.fragment,o),n=!1},d(o){G(l,o)}}}function Tl(e){let l,n,o,i,a,t,f;const s=[e[13],{i18n:e[2].i18n}];let r={};for(let m=0;m<s.length;m+=1)r=ol(r,s[m]);l=new il({props:r});let u=e[8]&&Ee(e);const v=[El,jl],y=[];function b(m,g){return m[0]?0:1}return i=b(e),a=y[i]=v[i](e),{c(){K(l.$$.fragment),n=V(),u&&u.c(),o=V(),a.c(),t=Q()},m(m,g){U(l,m,g),S(m,n,g),u&&u.m(m,g),S(m,o,g),y[i].m(m,g),S(m,t,g),f=!0},p(m,g){const k=g&8196?sl(s,[g&8192&&al(m[13]),g&4&&{i18n:m[2].i18n}]):{};l.$set(k),m[8]?u?(u.p(m,g),g&256&&p(u,1)):(u=Ee(m),u.c(),p(u,1),u.m(o.parentNode,o)):u&&(R(),j(u,1,1,()=>{u=null}),q());let C=i;i=b(m),i===C?y[i].p(m,g):(R(),j(y[C],1,1,()=>{y[C]=null}),q(),a=y[i],a?a.p(m,g):(a=y[i]=v[i](m),a.c()),p(a,1),a.m(t.parentNode,t))},i(m){f||(p(l.$$.fragment,m),p(u),p(a),f=!0)},o(m){j(l.$$.fragment,m),j(u),j(a),f=!1},d(m){m&&(T(n),T(o),T(t)),G(l,m),u&&u.d(m),y[i].d(m)}}}function zl(e){let l,n;return l=new ul({props:{variant:e[6]==="interactive"?"dashed":"solid",test_id:"highlighted-text",visible:e[5],elem_id:e[3],elem_classes:e[4],padding:!1,container:e[9],scale:e[10],min_width:e[11],$$slots:{default:[Tl]},$$scope:{ctx:e}}}),{c(){K(l.$$.fragment)},m(o,i){U(l,o,i),n=!0},p(o,[i]){const a={};i&64&&(a.variant=o[6]==="interactive"?"dashed":"solid"),i&32&&(a.visible=o[5]),i&8&&(a.elem_id=o[3]),i&16&&(a.elem_classes=o[4]),i&512&&(a.container=o[9]),i&1024&&(a.scale=o[10]),i&2048&&(a.min_width=o[11]),i&144263&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){n||(p(l.$$.fragment,o),n=!0)},o(o){j(l.$$.fragment,o),n=!1},d(o){G(l,o)}}}function Ll(e,l,n){let{gradio:o}=l,{elem_id:i=""}=l,{elem_classes:a=[]}=l,{visible:t=!0}=l,{value:f=[]}=l,{mode:s}=l,{show_legend:r}=l,{color_map:u={}}=l,{label:v=o.i18n("highlighted_text.highlighted_text")}=l,{container:y=!0}=l,{scale:b=null}=l,{min_width:m=void 0}=l,{selectable:g=!1}=l,{combine_adjacent:k=!1}=l,{loading_status:C}=l;function E(c){f=c,n(0,f),n(14,k)}const d=()=>o.dispatch("change");return e.$$set=c=>{"gradio"in c&&n(2,o=c.gradio),"elem_id"in c&&n(3,i=c.elem_id),"elem_classes"in c&&n(4,a=c.elem_classes),"visible"in c&&n(5,t=c.visible),"value"in c&&n(0,f=c.value),"mode"in c&&n(6,s=c.mode),"show_legend"in c&&n(7,r=c.show_legend),"color_map"in c&&n(1,u=c.color_map),"label"in c&&n(8,v=c.label),"container"in c&&n(9,y=c.container),"scale"in c&&n(10,b=c.scale),"min_width"in c&&n(11,m=c.min_width),"selectable"in c&&n(12,g=c.selectable),"combine_adjacent"in c&&n(14,k=c.combine_adjacent),"loading_status"in c&&n(13,C=c.loading_status)},e.$$.update=()=>{e.$$.dirty&2&&!u&&Object.keys(u).length&&n(1,u),e.$$.dirty&16385&&f&&k&&n(0,f=Se(f,"equal"))},[f,u,o,i,a,t,s,r,v,y,b,m,g,C,k,E,d]}class Ol extends x{constructor(l){super(),ee(this,l,Ll,zl,le,{gradio:2,elem_id:3,elem_classes:4,visible:5,value:0,mode:6,show_legend:7,color_map:1,label:8,container:9,scale:10,min_width:11,selectable:12,combine_adjacent:14,loading_status:13})}}const Ml=Ol;export{Ml as default};
//# sourceMappingURL=index-2262ef66.js.map
