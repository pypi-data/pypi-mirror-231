import{S as V,e as q,s as G,F as z,o as S,Q as H,G as v,h as M,w as g,r as J,u as w,v as P,k as I,H as D,D as W,m as j,g as E,j as L,R as X,Z,af as A,V as K,W as Y}from"./index-25c52e79.js";import{B as y,n as p}from"./Button-f0bde9e4.js";import{B as Q}from"./BlockLabel-33f5a10a.js";import{E as x}from"./Empty-f30aad85.js";import{F as U}from"./File-ae32f92a.js";import{I as C}from"./IconButton-5d6748cd.js";import{D as $}from"./Download-95d5a21c.js";import{U as ee}from"./Undo-4b9539c7.js";import{b as le,a as N,r as ne,c as oe}from"./babylonjs.loaders.min-8daa630e.js";function T(a){let e,o,l,t,n,s,f,u,h,m,d;return l=new C({props:{Icon:ee,label:"Undo"}}),l.$on("click",a[12]),s=new C({props:{Icon:$,label:a[3]("common.download")}}),{c(){e=j("div"),o=j("div"),z(l.$$.fragment),t=S(),n=j("a"),z(s.$$.fragment),h=S(),m=j("canvas"),E(n,"href",f=a[0].data),E(n,"target",window.__is_colab__?"_blank":null),E(n,"download",u=window.__is_colab__?null:a[0].orig_name||a[0].name),E(o,"class","buttons svelte-xz066x"),E(m,"class","svelte-xz066x"),E(e,"class","model3D svelte-xz066x")},m(i,r){M(i,e,r),L(e,o),v(l,o,null),L(o,t),L(o,n),v(s,n,null),L(e,h),L(e,m),a[13](m),d=!0},p(i,r){const b={};r&8&&(b.label=i[3]("common.download")),s.$set(b),(!d||r&1&&f!==(f=i[0].data))&&E(n,"href",f),(!d||r&1&&u!==(u=window.__is_colab__?null:i[0].orig_name||i[0].name))&&E(n,"download",u)},i(i){d||(g(l.$$.fragment,i),g(s.$$.fragment,i),d=!0)},o(i){w(l.$$.fragment,i),w(s.$$.fragment,i),d=!1},d(i){i&&I(e),D(l),D(s),a[13](null)}}}function te(a){let e,o,l,t;e=new Q({props:{show_label:a[2],Icon:U,label:a[1]||a[3]("3D_model.3d_model")}});let n=a[0]&&T(a);return{c(){z(e.$$.fragment),o=S(),n&&n.c(),l=H()},m(s,f){v(e,s,f),M(s,o,f),n&&n.m(s,f),M(s,l,f),t=!0},p(s,[f]){const u={};f&4&&(u.show_label=s[2]),f&10&&(u.label=s[1]||s[3]("3D_model.3d_model")),e.$set(u),s[0]?n?(n.p(s,f),f&1&&g(n,1)):(n=T(s),n.c(),g(n,1),n.m(l.parentNode,l)):n&&(J(),w(n,1,1,()=>{n=null}),P())},i(s){t||(g(e.$$.fragment,s),g(n),t=!0)},o(s){w(e.$$.fragment,s),w(n),t=!1},d(s){s&&(I(o),I(l)),D(e,s),n&&n.d(s)}}}function ae(a,e,o){let l,t,{value:n}=e,{clear_color:s=[0,0,0,0]}=e,{label:f=""}=e,{show_label:u}=e,{i18n:h}=e,{zoom_speed:m=1}=e,{camera_position:d=[null,null,null]}=e;le.OBJFileLoader.IMPORT_VERTEX_COLORS=!0;let i,r,b,k=!1;W(()=>{b=new N.Engine(i,!0),window.addEventListener("resize",()=>{b?.resize()}),o(9,k=!0)});function R(){r&&!r.isDisposed&&(r.dispose(),b?.stopRenderLoop(),b?.dispose(),b=null,b=new N.Engine(i,!0),window.addEventListener("resize",()=>{b?.resize()})),b!==null&&(r=oe(i,r,b,n,s,d,m))}function B(){ne(r,d,m)}const F=()=>B();function O(c){X[c?"unshift":"push"](()=>{i=c,o(4,i)})}return a.$$set=c=>{"value"in c&&o(0,n=c.value),"clear_color"in c&&o(6,s=c.clear_color),"label"in c&&o(1,f=c.label),"show_label"in c&&o(2,u=c.show_label),"i18n"in c&&o(3,h=c.i18n),"zoom_speed"in c&&o(7,m=c.zoom_speed),"camera_position"in c&&o(8,d=c.camera_position)},a.$$.update=()=>{a.$$.dirty&1&&o(11,{data:l,name:t}=n||{data:void 0,name:void 0},l,(o(10,t),o(0,n))),a.$$.dirty&3600&&i&&k&&l!=null&&t&&R()},[n,f,u,h,i,B,s,m,d,k,t,l,F,O]}class ie extends V{constructor(e){super(),q(this,e,ae,te,G,{value:0,clear_color:6,label:1,show_label:2,i18n:3,zoom_speed:7,camera_position:8})}}function se(a){let e,o,l,t;return e=new Q({props:{show_label:a[7],Icon:U,label:a[6]||"3D Model"}}),l=new x({props:{unpadded_box:!0,size:"large",$$slots:{default:[fe]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment),o=S(),z(l.$$.fragment)},m(n,s){v(e,n,s),M(n,o,s),v(l,n,s),t=!0},p(n,s){const f={};s&128&&(f.show_label=n[7]),s&64&&(f.label=n[6]||"3D Model"),e.$set(f);const u={};s&262144&&(u.$$scope={dirty:s,ctx:n}),l.$set(u)},i(n){t||(g(e.$$.fragment,n),g(l.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),w(l.$$.fragment,n),t=!1},d(n){n&&I(o),D(e,n),D(l,n)}}}function _e(a){let e,o;return e=new ie({props:{value:a[15],i18n:a[11].i18n,clear_color:a[4],label:a[6],show_label:a[7],camera_position:a[14],zoom_speed:a[13]}}),{c(){z(e.$$.fragment)},m(l,t){v(e,l,t),o=!0},p(l,t){const n={};t&32768&&(n.value=l[15]),t&2048&&(n.i18n=l[11].i18n),t&16&&(n.clear_color=l[4]),t&64&&(n.label=l[6]),t&128&&(n.show_label=l[7]),t&16384&&(n.camera_position=l[14]),t&8192&&(n.zoom_speed=l[13]),e.$set(n)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){D(e,l)}}}function fe(a){let e,o;return e=new U({}),{c(){z(e.$$.fragment)},m(l,t){v(e,l,t),o=!0},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){D(e,l)}}}function re(a){let e,o,l,t,n,s;const f=[{i18n:a[11].i18n},a[5]];let u={};for(let i=0;i<f.length;i+=1)u=Z(u,f[i]);e=new A({props:u});const h=[_e,se],m=[];function d(i,r){return i[3]?0:1}return l=d(a),t=m[l]=h[l](a),{c(){z(e.$$.fragment),o=S(),t.c(),n=H()},m(i,r){v(e,i,r),M(i,o,r),m[l].m(i,r),M(i,n,r),s=!0},p(i,r){const b=r&2080?K(f,[r&2048&&{i18n:i[11].i18n},r&32&&Y(i[5])]):{};e.$set(b);let k=l;l=d(i),l===k?m[l].p(i,r):(J(),w(m[k],1,1,()=>{m[k]=null}),P(),t=m[l],t?t.p(i,r):(t=m[l]=h[l](i),t.c()),g(t,1),t.m(n.parentNode,n))},i(i){s||(g(e.$$.fragment,i),g(t),s=!0)},o(i){w(e.$$.fragment,i),w(t),s=!1},d(i){i&&(I(o),I(n)),D(e,i),m[l].d(i)}}}function ue(a){let e,o;return e=new y({props:{visible:a[2],variant:a[3]===null?"dashed":"solid",border_mode:"base",padding:!1,elem_id:a[0],elem_classes:a[1],container:a[8],scale:a[9],min_width:a[10],height:a[12],$$slots:{default:[re]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},m(l,t){v(e,l,t),o=!0},p(l,[t]){const n={};t&4&&(n.visible=l[2]),t&8&&(n.variant=l[3]===null?"dashed":"solid"),t&1&&(n.elem_id=l[0]),t&2&&(n.elem_classes=l[1]),t&256&&(n.container=l[8]),t&512&&(n.scale=l[9]),t&1024&&(n.min_width=l[10]),t&4096&&(n.height=l[12]),t&321784&&(n.$$scope={dirty:t,ctx:l}),e.$set(n)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){D(e,l)}}}function me(a,e,o){let{elem_id:l=""}=e,{elem_classes:t=[]}=e,{visible:n=!0}=e,{value:s=null}=e,{root:f}=e,{root_url:u}=e,{clear_color:h}=e,{loading_status:m}=e,{label:d}=e,{show_label:i}=e,{container:r=!0}=e,{scale:b=null}=e,{min_width:k=void 0}=e,{gradio:R}=e,{height:B=void 0}=e,{zoom_speed:F=1}=e,{camera_position:O=[null,null,null]}=e,c;return a.$$set=_=>{"elem_id"in _&&o(0,l=_.elem_id),"elem_classes"in _&&o(1,t=_.elem_classes),"visible"in _&&o(2,n=_.visible),"value"in _&&o(3,s=_.value),"root"in _&&o(16,f=_.root),"root_url"in _&&o(17,u=_.root_url),"clear_color"in _&&o(4,h=_.clear_color),"loading_status"in _&&o(5,m=_.loading_status),"label"in _&&o(6,d=_.label),"show_label"in _&&o(7,i=_.show_label),"container"in _&&o(8,r=_.container),"scale"in _&&o(9,b=_.scale),"min_width"in _&&o(10,k=_.min_width),"gradio"in _&&o(11,R=_.gradio),"height"in _&&o(12,B=_.height),"zoom_speed"in _&&o(13,F=_.zoom_speed),"camera_position"in _&&o(14,O=_.camera_position)},a.$$.update=()=>{a.$$.dirty&196616&&o(15,c=p(s,f,u))},[l,t,n,s,h,m,d,i,r,b,k,R,B,F,O,c,f,u]}class ce extends V{constructor(e){super(),q(this,e,me,ue,G,{elem_id:0,elem_classes:1,visible:2,value:3,root:16,root_url:17,clear_color:4,loading_status:5,label:6,show_label:7,container:8,scale:9,min_width:10,gradio:11,height:12,zoom_speed:13,camera_position:14})}}const Ee=ce;export{Ee as default};
//# sourceMappingURL=index-2fae685c.js.map
