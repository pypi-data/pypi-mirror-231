import{S as U,e as D,s as G,f as y,g as n,h as L,j as o,n as g,k as z,m as C,o as J,t as te,F as Y,N as Q,y as ce,O as se,G as Z,p as c,af as fe,ah as ie,q as de,b as _e,r as pe,u as R,v as me,w as V,x as oe,H as x,B as he,C as ge,a4 as ve,az as we,E as ue,T as ke}from"./index-f52e647c.js";import{U as ye}from"./Undo-a9ef68d0.js";/* empty css                                             */function be(a){let e,t;return{c(){e=y("svg"),t=y("path"),n(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round")},m(l,i){L(l,e,i),o(e,t)},p:g,i:g,o:g,d(l){l&&z(e)}}}class je extends U{constructor(e){super(),D(this,e,null,be,G,{})}}function Be(a){let e,t,l;return{c(){e=y("svg"),t=y("rect"),l=y("rect"),n(t,"x","6"),n(t,"y","4"),n(t,"width","4"),n(t,"height","16"),n(l,"x","14"),n(l,"y","4"),n(l,"width","4"),n(l,"height","16"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round")},m(i,v){L(i,e,v),o(e,t),o(e,l)},p:g,i:g,o:g,d(i){i&&z(e)}}}class Ce extends U{constructor(e){super(),D(this,e,null,Be,G,{})}}function Ne(a){let e,t;return{c(){e=y("svg"),t=y("polygon"),n(t,"points","5 3 19 12 5 21 5 3"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round")},m(l,i){L(l,e,i),o(e,t)},p:g,i:g,o:g,d(l){l&&z(e)}}}class Te extends U{constructor(e){super(),D(this,e,null,Ne,G,{})}}function Ee(a){let e,t,l;return{c(){e=y("svg"),t=y("polygon"),l=y("rect"),n(t,"points","23 7 16 12 23 17 23 7"),n(l,"x","1"),n(l,"y","5"),n(l,"width","15"),n(l,"height","14"),n(l,"rx","2"),n(l,"ry","2"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"class","feather feather-video")},m(i,v){L(i,e,v),o(e,t),o(e,l)},p:g,i:g,o:g,d(i){i&&z(e)}}}class Ue extends U{constructor(e){super(),D(this,e,null,Ee,G,{})}}const De=a=>{let e=["B","KB","MB","GB","PB"],t=0;for(;a>1024;)a/=1024,t++;let l=e[t];return a.toFixed(1)+" "+l},Ge=()=>!0;function Me(a,{autoplay:e}){async function t(){e&&await a.play()}return a.addEventListener("loadeddata",t),{destroy(){a.removeEventListener("loadeddata",t)}}}const{isNaN:Pe}=ve;function Fe(a){let e,t;return e=new Ce({}),{c(){Y(e.$$.fragment)},m(l,i){Z(e,l,i),t=!0},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function qe(a){let e,t;return e=new Te({}),{c(){Y(e.$$.fragment)},m(l,i){Z(e,l,i),t=!0},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ae(a){let e,t;return e=new ye({}),{c(){Y(e.$$.fragment)},m(l,i){Z(e,l,i),t=!0},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Re(a){let e,t,l,i,v,T,M=!1,X,b=!0,w,P,u,p,m,f,h,K,N,F=W(a[5])+"",H,O,q=W(a[6])+"",S,r,d,j,I,B,A,k,$,ne;function le(){cancelAnimationFrame(X),t.paused||(X=we(le),M=!0),a[16].call(t)}const ae=[Ae,qe,Fe],E=[];function re(s,_){return s[5]===s[6]?0:s[7]?1:2}return f=re(a),h=E[f]=ae[f](a),A=new je({}),{c(){e=C("div"),t=C("video"),l=C("track"),P=J(),u=C("div"),p=C("div"),m=C("span"),h.c(),K=J(),N=C("span"),H=te(F),O=te(" / "),S=te(q),r=J(),d=C("progress"),I=J(),B=C("div"),Y(A.$$.fragment),n(l,"kind","captions"),Q(l.src,i=a[1])||n(l,"src",i),l.default=!0,Q(t.src,v=a[0])||n(t,"src",v),n(t,"preload","auto"),n(t,"data-testid",T=`${a[4]}-player`),n(t,"class","svelte-w5wajl"),a[6]===void 0&&ce(()=>a[17].call(t)),se(t,"mirror",a[2]),n(m,"role","button"),n(m,"tabindex","0"),n(m,"class","icon svelte-w5wajl"),n(m,"aria-label","play-pause-replay-button"),n(N,"class","time svelte-w5wajl"),d.value=j=a[5]/a[6]||0,n(d,"class","svelte-w5wajl"),n(B,"role","button"),n(B,"tabindex","0"),n(B,"class","icon svelte-w5wajl"),n(B,"aria-label","full-screen"),n(p,"class","inner svelte-w5wajl"),n(u,"class","controls svelte-w5wajl"),n(e,"class","wrap svelte-w5wajl")},m(s,_){L(s,e,_),o(e,t),o(t,l),a[19](t),o(e,P),o(e,u),o(u,p),o(p,m),E[f].m(m,null),o(p,K),o(p,N),o(N,H),o(N,O),o(N,S),o(p,r),o(p,d),o(p,I),o(p,B),Z(A,B,null),k=!0,$||(ne=[c(t,"click",a[10]),c(t,"play",a[14]),c(t,"pause",a[15]),c(t,"ended",a[12]),c(t,"timeupdate",le),c(t,"durationchange",a[17]),c(t,"play",a[18]),c(t,"pause",a[18]),fe(w=Me.call(null,t,{autoplay:a[3]})),c(m,"click",a[10]),c(m,"keydown",a[10]),c(d,"mousemove",a[9]),c(d,"touchmove",ie(a[9])),c(d,"click",de(ie(a[11]))),c(B,"click",a[13]),c(B,"keypress",a[13])],$=!0)},p(s,[_]){(!k||_&2&&!Q(l.src,i=s[1]))&&n(l,"src",i),(!k||_&1&&!Q(t.src,v=s[0]))&&n(t,"src",v),(!k||_&16&&T!==(T=`${s[4]}-player`))&&n(t,"data-testid",T),!M&&_&32&&!Pe(s[5])&&(t.currentTime=s[5]),M=!1,_&128&&b!==(b=s[7])&&t[b?"pause":"play"](),w&&_e(w.update)&&_&8&&w.update.call(null,{autoplay:s[3]}),(!k||_&4)&&se(t,"mirror",s[2]);let ee=f;f=re(s),f!==ee&&(pe(),R(E[ee],1,1,()=>{E[ee]=null}),me(),h=E[f],h||(h=E[f]=ae[f](s),h.c()),V(h,1),h.m(m,null)),(!k||_&32)&&F!==(F=W(s[5])+"")&&oe(H,F),(!k||_&64)&&q!==(q=W(s[6])+"")&&oe(S,q),(!k||_&96&&j!==(j=s[5]/s[6]||0))&&(d.value=j)},i(s){k||(V(h),V(A.$$.fragment,s),k=!0)},o(s){R(h),R(A.$$.fragment,s),k=!1},d(s){s&&z(e),a[19](null),E[f].d(),x(A),$=!1,he(ne)}}}function W(a){if(isNaN(a)||!isFinite(a))return"...";const e=Math.floor(a/60);let t=Math.floor(a%60);return t<10&&(t=`0${t}`),`${e}:${t}`}function Ve(a,e,t){let{src:l}=e,{subtitle:i=null}=e,{mirror:v}=e,{autoplay:T}=e,{label:M="test"}=e;const X=ge();let b=0,w,P=!0,u;function p(r){if(!w)return;if(r.type==="click"){f(r);return}if(r.type!=="touchmove"&&!(r.buttons&1))return;const d=r.type==="touchmove"?r.touches[0].clientX:r.clientX,{left:j,right:I}=r.currentTarget.getBoundingClientRect();t(5,b=w*(d-j)/(I-j))}async function m(){document.fullscreenElement!=u&&(u.currentTime>0&&!u.paused&&!u.ended&&u.readyState>u.HAVE_CURRENT_DATA?u.pause():await u.play())}function f(r){const{left:d,right:j}=r.currentTarget.getBoundingClientRect();t(5,b=w*(r.clientX-d)/(j-d))}function h(){X("stop"),X("end")}function K(){u.requestFullscreen()}function N(r){ue.call(this,a,r)}function F(r){ue.call(this,a,r)}function H(){b=this.currentTime,t(5,b)}function O(){w=this.duration,t(6,w)}function q(){P=this.paused,t(7,P)}function S(r){ke[r?"unshift":"push"](()=>{u=r,t(8,u)})}return a.$$set=r=>{"src"in r&&t(0,l=r.src),"subtitle"in r&&t(1,i=r.subtitle),"mirror"in r&&t(2,v=r.mirror),"autoplay"in r&&t(3,T=r.autoplay),"label"in r&&t(4,M=r.label)},[l,i,v,T,M,b,w,P,u,p,m,f,h,K,N,F,H,O,q,S]}class Le extends U{constructor(e){super(),D(this,e,Ve,Re,G,{src:0,subtitle:1,mirror:2,autoplay:3,label:4})}}export{Le as P,Ue as V,Ge as a,De as p};
//# sourceMappingURL=Player-a1d89f17.js.map
