{%- macro action(obj) -%}
@action
def {{obj.name}}({% if obj.gui_display_name -%}name="{{obj.gui_display_name}}"{%- endif %}):
    {% if obj.description -%}"""{{obj.description}}"""{%- endif %}
{% if obj.variables or obj.tasks %}
{%- for variable in obj.variables %}
{{variable | indent( width=4, first=True)}}
{%- endfor %}
{%- for task in obj.tasks %}
{{task | indent( width=4, first=True)}}
{%- endfor %}
{% else %}
    pass
{% endif %}
{%- endmacro %}

{{action(obj)}}
