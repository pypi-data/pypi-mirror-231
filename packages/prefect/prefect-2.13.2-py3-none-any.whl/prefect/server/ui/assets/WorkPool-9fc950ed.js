import{d as R,g as O,B as S,a as T,c as t,l as U,I as A,ah as D,aG as I,b as u,e as k,w as l,f as d,o as m,i as a,u as e,bM as V,bN as w,aL as Y,bO as q,bP as z,x as F}from"./index-191a1ac6.js";import{u as G}from"./usePageTitle-6af76302.js";const Q=R({__name:"WorkPool",setup(K){const f=O(),r=S("workPoolName"),_={interval:3e5},c=T(f.workPools.getWorkPoolByName,[r.value],_),o=t(()=>c.response),p=t(()=>{var n;return((n=o.value)==null?void 0:n.type)==="prefect-agent"}),b=t(()=>[{label:"Details",hidden:U.xl},{label:"Runs"},{label:"Work Queues"},{label:"Workers",hidden:p.value}]),s=A("tab","Details"),{tabs:v}=D(b,s),P=t(()=>o.value?`Your work pool ${o.value.name} is ready to go!`:"Your work pool is ready to go!"),g=t(()=>{var n;return`prefect ${p.value?"agent":"worker"} start --pool "${(n=o.value)==null?void 0:n.name}"`}),y=t(()=>`Work pools organize work that ${p.value?"Prefect agents":"Prefect workers"} can pull from.`),{filter:B}=I({workPools:{name:[r.value]}}),W=t(()=>o.value?`Work Pool: ${o.value.name}`:"Work Pool");return G(W),(n,i)=>{const x=u("CodeBanner"),C=u("p-tabs"),h=u("p-layout-well"),N=u("p-layout-default");return o.value?(m(),k(N,{key:0},{header:l(()=>[a(e(V),{"work-pool":o.value,onUpdate:e(c).refresh},null,8,["work-pool","onUpdate"])]),default:l(()=>[o.value?(m(),k(h,{key:0,class:"work-pool"},{header:l(()=>[a(x,{command:g.value,title:P.value,subtitle:y.value},null,8,["command","title","subtitle"])]),well:l(()=>[a(e(w),{alternate:"","work-pool":o.value},null,8,["work-pool"])]),default:l(()=>[a(C,{selected:e(s),"onUpdate:selected":i[0]||(i[0]=$=>F(s)?s.value=$:null),tabs:e(v)},{details:l(()=>[a(e(w),{"work-pool":o.value},null,8,["work-pool"])]),runs:l(()=>[a(e(Y),{"flow-run-filter":e(B)},null,8,["flow-run-filter"])]),"work-queues":l(()=>[a(e(q),{"work-pool-name":e(r)},null,8,["work-pool-name"])]),workers:l(()=>[a(e(z),{"work-pool-name":e(r)},null,8,["work-pool-name"])]),_:1},8,["selected","tabs"])]),_:1})):d("",!0)]),_:1})):d("",!0)}}});export{Q as default};
