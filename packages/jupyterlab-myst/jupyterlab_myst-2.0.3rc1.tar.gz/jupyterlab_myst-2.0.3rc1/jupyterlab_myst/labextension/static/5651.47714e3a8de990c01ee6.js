"use strict";(self.webpackChunkjupyterlab_myst=self.webpackChunkjupyterlab_myst||[]).push([[5651,1651],{31651:(e,r,t)=>{t.r(r),t.d(r,{cardDirective:()=>n,splitParagraphNode:()=>a});var s=t(17587);const p=/((?<before>[\s\S]*?)\s+){0,1}\^\^\^(\s+(?<after>[\s\S]*)){0,1}/,n={name:"card",alias:"grid-item-card",arg:{type:s.ParseTypesEnum.parsed},options:{link:{type:s.ParseTypesEnum.string},header:{type:s.ParseTypesEnum.parsed},footer:{type:s.ParseTypesEnum.parsed}},body:{type:s.ParseTypesEnum.parsed,required:!0},run(e){const{link:r,header:t,footer:s}=e.options||{};let p,n,u;if(t||s)p=t?[{type:"paragraph",children:t}]:[],n=e.body,u=s?[{type:"paragraph",children:s}]:[];else{const[r,t]=function(e){const r=[],t=[];let s=!1;return e.forEach((e=>{if(s)t.push(e);else if("paragraph"!==e.type)r.push(e);else{const p=a(e),{before:n,after:u}=p;s=p.post,n&&r.push(n),u&&t.push(u)}})),[r,t]}(e.body);p=t.length?r:[];const s=t.length?t:r;[n,u]=function(e){const r=[],t=[];let s=!1;return e.forEach((e=>{s?t.push(e):"blockBreak"!==e.type?r.push(e):s=!0})),[r,t]}(s)}const l=[];return p.length&&l.push({type:"header",children:p}),e.arg&&l.push({type:"cardTitle",children:e.arg}),l.push(...n),u.length&&l.push({type:"footer",children:u}),[{type:"card",url:r,children:l}]}};function a(e){var r;const t=[],s=[];let n=!1;return null===(r=e.children)||void 0===r||r.forEach((e=>{var r;if(n)return void s.push(e);if("text"!==e.type||!e.value)return void t.push(e);const a=e.value,u=p.exec(a);if(!u)return void t.push(e);n=!0;const{before:l,after:o}=null!==(r=u.groups)&&void 0!==r?r:{};l&&t.push({type:"text",value:l}),o&&s.push({type:"text",value:o})})),{before:t.length?{...e,children:t}:null,after:s.length?{...e,children:s}:null,post:n}}}}]);