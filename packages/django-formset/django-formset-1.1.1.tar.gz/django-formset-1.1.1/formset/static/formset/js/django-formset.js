import{b as Ar}from"./chunk-APVD22ED.js";import{a as kr}from"./chunk-KDP4ZIAK.js";import{a as Tr}from"./chunk-R2VNGMYE.js";import{a as Ye,b as be}from"./chunk-NLMHZ7JJ.js";var Br=Ye((Ol,Hr)=>{var Eo="Expected a function",Lr="__lodash_hash_undefined__",$r=1/0,wo="[object Function]",ko="[object GeneratorFunction]",Ao="[object Symbol]",To=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Co=/^\w*$/,_o=/^\./,Fo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,So=/[\\^$.*+?()[\]{}|]/g,Lo=/\\(\\)?/g,$o=/^\[object .+?Constructor\]$/,Mo=typeof global=="object"&&global&&global.Object===Object&&global,Io=typeof self=="object"&&self&&self.Object===Object&&self,Ft=Mo||Io||Function("return this")();function Po(t,e){return t==null?void 0:t[e]}function Oo(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var Do=Array.prototype,Ro=Function.prototype,Mr=Object.prototype,_t=Ft["__core-js_shared__"],Cr=function(){var t=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ir=Ro.toString,St=Mr.hasOwnProperty,Pr=Mr.toString,Ho=RegExp("^"+Ir.call(St).replace(So,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_r=Ft.Symbol,Bo=Do.splice,No=Or(Ft,"Map"),$e=Or(Object,"create"),Fr=_r?_r.prototype:void 0,Sr=Fr?Fr.toString:void 0;function ne(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function qo(){this.__data__=$e?$e(null):{}}function Vo(t){return this.has(t)&&delete this.__data__[t]}function Go(t){var e=this.__data__;if($e){var r=e[t];return r===Lr?void 0:r}return St.call(e,t)?e[t]:void 0}function zo(t){var e=this.__data__;return $e?e[t]!==void 0:St.call(e,t)}function Uo(t,e){var r=this.__data__;return r[t]=$e&&e===void 0?Lr:e,this}ne.prototype.clear=qo;ne.prototype.delete=Vo;ne.prototype.get=Go;ne.prototype.has=zo;ne.prototype.set=Uo;function ye(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ko(){this.__data__=[]}function Jo(t){var e=this.__data__,r=Qe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Bo.call(e,r,1),!0}function Wo(t){var e=this.__data__,r=Qe(e,t);return r<0?void 0:e[r][1]}function Xo(t){return Qe(this.__data__,t)>-1}function Zo(t,e){var r=this.__data__,n=Qe(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}ye.prototype.clear=Ko;ye.prototype.delete=Jo;ye.prototype.get=Wo;ye.prototype.has=Xo;ye.prototype.set=Zo;function oe(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Yo(){this.__data__={hash:new ne,map:new(No||ye),string:new ne}}function Qo(t){return et(this,t).delete(t)}function ei(t){return et(this,t).get(t)}function ti(t){return et(this,t).has(t)}function ri(t,e){return et(this,t).set(t,e),this}oe.prototype.clear=Yo;oe.prototype.delete=Qo;oe.prototype.get=ei;oe.prototype.has=ti;oe.prototype.set=ri;function Qe(t,e){for(var r=t.length;r--;)if(pi(t[r][0],e))return r;return-1}function ni(t,e){e=si(e,t)?[e]:ai(e);for(var r=0,n=e.length;t!=null&&r<n;)t=t[ui(e[r++])];return r&&r==n?t:void 0}function oi(t){if(!Rr(t)||di(t))return!1;var e=mi(t)||Oo(t)?Ho:$o;return e.test(fi(t))}function ii(t){if(typeof t=="string")return t;if($t(t))return Sr?Sr.call(t):"";var e=t+"";return e=="0"&&1/t==-$r?"-0":e}function ai(t){return Dr(t)?t:ci(t)}function et(t,e){var r=t.__data__;return li(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Or(t,e){var r=Po(t,e);return oi(r)?r:void 0}function si(t,e){if(Dr(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||$t(t)?!0:Co.test(t)||!To.test(t)||e!=null&&t in Object(e)}function li(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function di(t){return!!Cr&&Cr in t}var ci=Lt(function(t){t=gi(t);var e=[];return _o.test(t)&&e.push(""),t.replace(Fo,function(r,n,i,o){e.push(i?o.replace(Lo,"$1"):n||r)}),e});function ui(t){if(typeof t=="string"||$t(t))return t;var e=t+"";return e=="0"&&1/t==-$r?"-0":e}function fi(t){if(t!=null){try{return Ir.call(t)}catch{}try{return t+""}catch{}}return""}function Lt(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(Eo);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Lt.Cache||oe),r}Lt.Cache=oe;function pi(t,e){return t===e||t!==t&&e!==e}var Dr=Array.isArray;function mi(t){var e=Rr(t)?Pr.call(t):"";return e==wo||e==ko}function Rr(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function hi(t){return!!t&&typeof t=="object"}function $t(t){return typeof t=="symbol"||hi(t)&&Pr.call(t)==Ao}function gi(t){return t==null?"":ii(t)}function bi(t,e,r){var n=t==null?void 0:ni(t,e);return n===void 0?r:n}Hr.exports=bi});var en=Ye((Dl,Qr)=>{var yi="Expected a function",zr="__lodash_hash_undefined__",Ur=1/0,vi=9007199254740991,ji="[object Function]",xi="[object GeneratorFunction]",Ei="[object Symbol]",wi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ki=/^\w*$/,Ai=/^\./,Ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ci=/[\\^$.*+?()[\]{}|]/g,_i=/\\(\\)?/g,Fi=/^\[object .+?Constructor\]$/,Si=/^(?:0|[1-9]\d*)$/,Li=typeof global=="object"&&global&&global.Object===Object&&global,$i=typeof self=="object"&&self&&self.Object===Object&&self,It=Li||$i||Function("return this")();function Mi(t,e){return t==null?void 0:t[e]}function Ii(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var Pi=Array.prototype,Oi=Function.prototype,Kr=Object.prototype,Mt=It["__core-js_shared__"],Nr=function(){var t=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Jr=Oi.toString,rt=Kr.hasOwnProperty,Wr=Kr.toString,Di=RegExp("^"+Jr.call(rt).replace(Ci,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qr=It.Symbol,Ri=Pi.splice,Hi=Xr(It,"Map"),Me=Xr(Object,"create"),Vr=qr?qr.prototype:void 0,Gr=Vr?Vr.toString:void 0;function ie(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Bi(){this.__data__=Me?Me(null):{}}function Ni(t){return this.has(t)&&delete this.__data__[t]}function qi(t){var e=this.__data__;if(Me){var r=e[t];return r===zr?void 0:r}return rt.call(e,t)?e[t]:void 0}function Vi(t){var e=this.__data__;return Me?e[t]!==void 0:rt.call(e,t)}function Gi(t,e){var r=this.__data__;return r[t]=Me&&e===void 0?zr:e,this}ie.prototype.clear=Bi;ie.prototype.delete=Ni;ie.prototype.get=qi;ie.prototype.has=Vi;ie.prototype.set=Gi;function ve(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function zi(){this.__data__=[]}function Ui(t){var e=this.__data__,r=nt(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Ri.call(e,r,1),!0}function Ki(t){var e=this.__data__,r=nt(e,t);return r<0?void 0:e[r][1]}function Ji(t){return nt(this.__data__,t)>-1}function Wi(t,e){var r=this.__data__,n=nt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}ve.prototype.clear=zi;ve.prototype.delete=Ui;ve.prototype.get=Ki;ve.prototype.has=Ji;ve.prototype.set=Wi;function ae(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Xi(){this.__data__={hash:new ie,map:new(Hi||ve),string:new ie}}function Zi(t){return ot(this,t).delete(t)}function Yi(t){return ot(this,t).get(t)}function Qi(t){return ot(this,t).has(t)}function ea(t,e){return ot(this,t).set(t,e),this}ae.prototype.clear=Xi;ae.prototype.delete=Zi;ae.prototype.get=Yi;ae.prototype.has=Qi;ae.prototype.set=ea;function ta(t,e,r){var n=t[e];(!(rt.call(t,e)&&Zr(n,r))||r===void 0&&!(e in t))&&(t[e]=r)}function nt(t,e){for(var r=t.length;r--;)if(Zr(t[r][0],e))return r;return-1}function ra(t){if(!tt(t)||da(t))return!1;var e=pa(t)||Ii(t)?Di:Fi;return e.test(fa(t))}function na(t,e,r,n){if(!tt(t))return t;e=sa(e,t)?[e]:ia(e);for(var i=-1,o=e.length,s=o-1,d=t;d!=null&&++i<o;){var f=ua(e[i]),c=r;if(i!=s){var g=d[f];c=n?n(g,f,d):void 0,c===void 0&&(c=tt(g)?g:aa(e[i+1])?[]:{})}ta(d,f,c),d=d[f]}return t}function oa(t){if(typeof t=="string")return t;if(Ot(t))return Gr?Gr.call(t):"";var e=t+"";return e=="0"&&1/t==-Ur?"-0":e}function ia(t){return Yr(t)?t:ca(t)}function ot(t,e){var r=t.__data__;return la(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Xr(t,e){var r=Mi(t,e);return ra(r)?r:void 0}function aa(t,e){return e=e??vi,!!e&&(typeof t=="number"||Si.test(t))&&t>-1&&t%1==0&&t<e}function sa(t,e){if(Yr(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Ot(t)?!0:ki.test(t)||!wi.test(t)||e!=null&&t in Object(e)}function la(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function da(t){return!!Nr&&Nr in t}var ca=Pt(function(t){t=ha(t);var e=[];return Ai.test(t)&&e.push(""),t.replace(Ti,function(r,n,i,o){e.push(i?o.replace(_i,"$1"):n||r)}),e});function ua(t){if(typeof t=="string"||Ot(t))return t;var e=t+"";return e=="0"&&1/t==-Ur?"-0":e}function fa(t){if(t!=null){try{return Jr.call(t)}catch{}try{return t+""}catch{}}return""}function Pt(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(yi);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Pt.Cache||ae),r}Pt.Cache=ae;function Zr(t,e){return t===e||t!==t&&e!==e}var Yr=Array.isArray;function pa(t){var e=tt(t)?Wr.call(t):"";return e==ji||e==xi}function tt(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ma(t){return!!t&&typeof t=="object"}function Ot(t){return typeof t=="symbol"||ma(t)&&Wr.call(t)==Ei}function ha(t){return t==null?"":oa(t)}function ga(t,e,r){return t==null?t:na(t,e,r)}Qr.exports=ga});var On=Ye((Ie,xe)=>{var ba=200,Kt="__lodash_hash_undefined__",ft=1,pn=2,mn=9007199254740991,it="[object Arguments]",Bt="[object Array]",ya="[object AsyncFunction]",hn="[object Boolean]",gn="[object Date]",bn="[object Error]",yn="[object Function]",va="[object GeneratorFunction]",at="[object Map]",vn="[object Number]",ja="[object Null]",je="[object Object]",tn="[object Promise]",xa="[object Proxy]",jn="[object RegExp]",st="[object Set]",xn="[object String]",Ea="[object Symbol]",wa="[object Undefined]",Nt="[object WeakMap]",En="[object ArrayBuffer]",lt="[object DataView]",ka="[object Float32Array]",Aa="[object Float64Array]",Ta="[object Int8Array]",Ca="[object Int16Array]",_a="[object Int32Array]",Fa="[object Uint8Array]",Sa="[object Uint8ClampedArray]",La="[object Uint16Array]",$a="[object Uint32Array]",Ma=/[\\^$.*+?()[\]{}|]/g,Ia=/^\[object .+?Constructor\]$/,Pa=/^(?:0|[1-9]\d*)$/,S={};S[ka]=S[Aa]=S[Ta]=S[Ca]=S[_a]=S[Fa]=S[Sa]=S[La]=S[$a]=!0;S[it]=S[Bt]=S[En]=S[hn]=S[lt]=S[gn]=S[bn]=S[yn]=S[at]=S[vn]=S[je]=S[jn]=S[st]=S[xn]=S[Nt]=!1;var wn=typeof global=="object"&&global&&global.Object===Object&&global,Oa=typeof self=="object"&&self&&self.Object===Object&&self,W=wn||Oa||Function("return this")(),kn=typeof Ie=="object"&&Ie&&!Ie.nodeType&&Ie,rn=kn&&typeof xe=="object"&&xe&&!xe.nodeType&&xe,An=rn&&rn.exports===kn,Dt=An&&wn.process,nn=function(){try{return Dt&&Dt.binding&&Dt.binding("util")}catch{}}(),on=nn&&nn.isTypedArray;function Da(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Ra(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Ha(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Ba(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Na(t){return function(e){return t(e)}}function qa(t,e){return t.has(e)}function Va(t,e){return t==null?void 0:t[e]}function Ga(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function za(t,e){return function(r){return t(e(r))}}function Ua(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Ka=Array.prototype,Ja=Function.prototype,pt=Object.prototype,Rt=W["__core-js_shared__"],Tn=Ja.toString,K=pt.hasOwnProperty,an=function(){var t=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Cn=pt.toString,Wa=RegExp("^"+Tn.call(K).replace(Ma,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sn=An?W.Buffer:void 0,dt=W.Symbol,ln=W.Uint8Array,_n=pt.propertyIsEnumerable,Xa=Ka.splice,se=dt?dt.toStringTag:void 0,dn=Object.getOwnPropertySymbols,Za=sn?sn.isBuffer:void 0,Ya=za(Object.keys,Object),qt=Ee(W,"DataView"),Pe=Ee(W,"Map"),Vt=Ee(W,"Promise"),Gt=Ee(W,"Set"),zt=Ee(W,"WeakMap"),Oe=Ee(Object,"create"),Qa=ce(qt),es=ce(Pe),ts=ce(Vt),rs=ce(Gt),ns=ce(zt),cn=dt?dt.prototype:void 0,Ht=cn?cn.valueOf:void 0;function le(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function os(){this.__data__=Oe?Oe(null):{},this.size=0}function is(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function as(t){var e=this.__data__;if(Oe){var r=e[t];return r===Kt?void 0:r}return K.call(e,t)?e[t]:void 0}function ss(t){var e=this.__data__;return Oe?e[t]!==void 0:K.call(e,t)}function ls(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Oe&&e===void 0?Kt:e,this}le.prototype.clear=os;le.prototype.delete=is;le.prototype.get=as;le.prototype.has=ss;le.prototype.set=ls;function X(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ds(){this.__data__=[],this.size=0}function cs(t){var e=this.__data__,r=mt(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Xa.call(e,r,1),--this.size,!0}function us(t){var e=this.__data__,r=mt(e,t);return r<0?void 0:e[r][1]}function fs(t){return mt(this.__data__,t)>-1}function ps(t,e){var r=this.__data__,n=mt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}X.prototype.clear=ds;X.prototype.delete=cs;X.prototype.get=us;X.prototype.has=fs;X.prototype.set=ps;function de(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ms(){this.size=0,this.__data__={hash:new le,map:new(Pe||X),string:new le}}function hs(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e}function gs(t){return ht(this,t).get(t)}function bs(t){return ht(this,t).has(t)}function ys(t,e){var r=ht(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}de.prototype.clear=ms;de.prototype.delete=hs;de.prototype.get=gs;de.prototype.has=bs;de.prototype.set=ys;function ct(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new de;++e<r;)this.add(t[e])}function vs(t){return this.__data__.set(t,Kt),this}function js(t){return this.__data__.has(t)}ct.prototype.add=ct.prototype.push=vs;ct.prototype.has=js;function re(t){var e=this.__data__=new X(t);this.size=e.size}function xs(){this.__data__=new X,this.size=0}function Es(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function ws(t){return this.__data__.get(t)}function ks(t){return this.__data__.has(t)}function As(t,e){var r=this.__data__;if(r instanceof X){var n=r.__data__;if(!Pe||n.length<ba-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new de(n)}return r.set(t,e),this.size=r.size,this}re.prototype.clear=xs;re.prototype.delete=Es;re.prototype.get=ws;re.prototype.has=ks;re.prototype.set=As;function Ts(t,e){var r=ut(t),n=!r&&Ns(t),i=!r&&!n&&Ut(t),o=!r&&!n&&!i&&Pn(t),s=r||n||i||o,d=s?Ba(t.length,String):[],f=d.length;for(var c in t)(e||K.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Os(c,f)))&&d.push(c);return d}function mt(t,e){for(var r=t.length;r--;)if(Ln(t[r][0],e))return r;return-1}function Cs(t,e,r){var n=e(t);return ut(t)?n:Ra(n,r(t))}function Re(t){return t==null?t===void 0?wa:ja:se&&se in Object(t)?Is(t):Bs(t)}function un(t){return De(t)&&Re(t)==it}function Fn(t,e,r,n,i){return t===e?!0:t==null||e==null||!De(t)&&!De(e)?t!==t&&e!==e:_s(t,e,r,n,Fn,i)}function _s(t,e,r,n,i,o){var s=ut(t),d=ut(e),f=s?Bt:te(t),c=d?Bt:te(e);f=f==it?je:f,c=c==it?je:c;var g=f==je,y=c==je,A=f==c;if(A&&Ut(t)){if(!Ut(e))return!1;s=!0,g=!1}if(A&&!g)return o||(o=new re),s||Pn(t)?Sn(t,e,r,n,i,o):$s(t,e,f,r,n,i,o);if(!(r&ft)){var L=g&&K.call(t,"__wrapped__"),I=y&&K.call(e,"__wrapped__");if(L||I){var B=L?t.value():t,N=I?e.value():e;return o||(o=new re),i(B,N,r,n,o)}}return A?(o||(o=new re),Ms(t,e,r,n,i,o)):!1}function Fs(t){if(!In(t)||Rs(t))return!1;var e=$n(t)?Wa:Ia;return e.test(ce(t))}function Ss(t){return De(t)&&Mn(t.length)&&!!S[Re(t)]}function Ls(t){if(!Hs(t))return Ya(t);var e=[];for(var r in Object(t))K.call(t,r)&&r!="constructor"&&e.push(r);return e}function Sn(t,e,r,n,i,o){var s=r&ft,d=t.length,f=e.length;if(d!=f&&!(s&&f>d))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var g=-1,y=!0,A=r&pn?new ct:void 0;for(o.set(t,e),o.set(e,t);++g<d;){var L=t[g],I=e[g];if(n)var B=s?n(I,L,g,e,t,o):n(L,I,g,t,e,o);if(B!==void 0){if(B)continue;y=!1;break}if(A){if(!Ha(e,function(N,G){if(!qa(A,G)&&(L===N||i(L,N,r,n,o)))return A.push(G)})){y=!1;break}}else if(!(L===I||i(L,I,r,n,o))){y=!1;break}}return o.delete(t),o.delete(e),y}function $s(t,e,r,n,i,o,s){switch(r){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case En:return!(t.byteLength!=e.byteLength||!o(new ln(t),new ln(e)));case hn:case gn:case vn:return Ln(+t,+e);case bn:return t.name==e.name&&t.message==e.message;case jn:case xn:return t==e+"";case at:var d=Ga;case st:var f=n&ft;if(d||(d=Ua),t.size!=e.size&&!f)return!1;var c=s.get(t);if(c)return c==e;n|=pn,s.set(t,e);var g=Sn(d(t),d(e),n,i,o,s);return s.delete(t),g;case Ea:if(Ht)return Ht.call(t)==Ht.call(e)}return!1}function Ms(t,e,r,n,i,o){var s=r&ft,d=fn(t),f=d.length,c=fn(e),g=c.length;if(f!=g&&!s)return!1;for(var y=f;y--;){var A=d[y];if(!(s?A in e:K.call(e,A)))return!1}var L=o.get(t);if(L&&o.get(e))return L==e;var I=!0;o.set(t,e),o.set(e,t);for(var B=s;++y<f;){A=d[y];var N=t[A],G=e[A];if(n)var D=s?n(G,N,A,e,t,o):n(N,G,A,t,e,o);if(!(D===void 0?N===G||i(N,G,r,n,o):D)){I=!1;break}B||(B=A=="constructor")}if(I&&!B){var b=t.constructor,F=e.constructor;b!=F&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof F=="function"&&F instanceof F)&&(I=!1)}return o.delete(t),o.delete(e),I}function fn(t){return Cs(t,Gs,Ps)}function ht(t,e){var r=t.__data__;return Ds(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Ee(t,e){var r=Va(t,e);return Fs(r)?r:void 0}function Is(t){var e=K.call(t,se),r=t[se];try{t[se]=void 0;var n=!0}catch{}var i=Cn.call(t);return n&&(e?t[se]=r:delete t[se]),i}var Ps=dn?function(t){return t==null?[]:(t=Object(t),Da(dn(t),function(e){return _n.call(t,e)}))}:zs,te=Re;(qt&&te(new qt(new ArrayBuffer(1)))!=lt||Pe&&te(new Pe)!=at||Vt&&te(Vt.resolve())!=tn||Gt&&te(new Gt)!=st||zt&&te(new zt)!=Nt)&&(te=function(t){var e=Re(t),r=e==je?t.constructor:void 0,n=r?ce(r):"";if(n)switch(n){case Qa:return lt;case es:return at;case ts:return tn;case rs:return st;case ns:return Nt}return e});function Os(t,e){return e=e??mn,!!e&&(typeof t=="number"||Pa.test(t))&&t>-1&&t%1==0&&t<e}function Ds(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Rs(t){return!!an&&an in t}function Hs(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||pt;return t===r}function Bs(t){return Cn.call(t)}function ce(t){if(t!=null){try{return Tn.call(t)}catch{}try{return t+""}catch{}}return""}function Ln(t,e){return t===e||t!==t&&e!==e}var Ns=un(function(){return arguments}())?un:function(t){return De(t)&&K.call(t,"callee")&&!_n.call(t,"callee")},ut=Array.isArray;function qs(t){return t!=null&&Mn(t.length)&&!$n(t)}var Ut=Za||Us;function Vs(t,e){return Fn(t,e)}function $n(t){if(!In(t))return!1;var e=Re(t);return e==yn||e==va||e==ya||e==xa}function Mn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mn}function In(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function De(t){return t!=null&&typeof t=="object"}var Pn=on?Na(on):Ss;function Gs(t){return qs(t)?Ts(t):Ls(t)}function zs(){return[]}function Us(){return!1}xe.exports=Vs});var Wn=Ye((He,we)=>{var Ks=9007199254740991,Js="[object Arguments]",Ws="[object Function]",Xs="[object GeneratorFunction]",Wt="[object Map]",Zs="[object Object]",Dn="[object Promise]",Xt="[object Set]",Rn="[object WeakMap]",Hn="[object DataView]",Ys=/[\\^$.*+?()[\]{}|]/g,Qs=/^\[object .+?Constructor\]$/,el=typeof global=="object"&&global&&global.Object===Object&&global,tl=typeof self=="object"&&self&&self.Object===Object&&self,fe=el||tl||Function("return this")(),Vn=typeof He=="object"&&He&&!He.nodeType&&He,Bn=Vn&&typeof we=="object"&&we&&!we.nodeType&&we,rl=Bn&&Bn.exports===Vn;function nl(t,e){return t==null?void 0:t[e]}function ol(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function il(t,e){return function(r){return t(e(r))}}var al=Function.prototype,gt=Object.prototype,Jt=fe["__core-js_shared__"],Nn=function(){var t=/[^.]+$/.exec(Jt&&Jt.keys&&Jt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Gn=al.toString,rr=gt.hasOwnProperty,bt=gt.toString,sl=RegExp("^"+Gn.call(rr).replace(Ys,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qn=rl?fe.Buffer:void 0,zn=gt.propertyIsEnumerable,ll=qn?qn.isBuffer:void 0,dl=il(Object.keys,Object),Zt=Be(fe,"DataView"),Yt=Be(fe,"Map"),Qt=Be(fe,"Promise"),er=Be(fe,"Set"),tr=Be(fe,"WeakMap"),cl=!zn.call({valueOf:1},"valueOf"),ul=pe(Zt),fl=pe(Yt),pl=pe(Qt),ml=pe(er),hl=pe(tr);function gl(t){return bt.call(t)}function bl(t){if(!Jn(t)||yl(t))return!1;var e=Kn(t)||ol(t)?sl:Qs;return e.test(pe(t))}function Be(t,e){var r=nl(t,e);return bl(r)?r:void 0}var ue=gl;(Zt&&ue(new Zt(new ArrayBuffer(1)))!=Hn||Yt&&ue(new Yt)!=Wt||Qt&&ue(Qt.resolve())!=Dn||er&&ue(new er)!=Xt||tr&&ue(new tr)!=Rn)&&(ue=function(t){var e=bt.call(t),r=e==Zs?t.constructor:void 0,n=r?pe(r):void 0;if(n)switch(n){case ul:return Hn;case fl:return Wt;case pl:return Dn;case ml:return Xt;case hl:return Rn}return e});function yl(t){return!!Nn&&Nn in t}function vl(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||gt;return t===r}function pe(t){if(t!=null){try{return Gn.call(t)}catch{}try{return t+""}catch{}}return""}function jl(t){return El(t)&&rr.call(t,"callee")&&(!zn.call(t,"callee")||bt.call(t)==Js)}var xl=Array.isArray;function Un(t){return t!=null&&Al(t.length)&&!Kn(t)}function El(t){return Tl(t)&&Un(t)}var wl=ll||Cl;function kl(t){if(Un(t)&&(xl(t)||typeof t=="string"||typeof t.splice=="function"||wl(t)||jl(t)))return!t.length;var e=ue(t);if(e==Wt||e==Xt)return!t.size;if(cl||vl(t))return!dl(t).length;for(var r in t)if(rr.call(t,r))return!1;return!0}function Kn(t){var e=Jn(t)?bt.call(t):"";return e==Ws||e==Xs}function Al(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ks}function Jn(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Tl(t){return!!t&&typeof t=="object"}function Cl(){return!1}we.exports=kl});(function(){"use strict";var t=function(m,u){var h=function(T){for(var w=0,$=T.length;w<$;w++)j(T[w])},j=function(T){var w=T.target,$=T.attributeName,P=T.oldValue;w.attributeChangedCallback($,P,w.getAttribute($))};return function(x,T){var w=x.constructor.observedAttributes;return w&&m(T).then(function(){new u(h).observe(x,{attributes:!0,attributeOldValue:!0,attributeFilter:w});for(var $=0,P=w.length;$<P;$++)x.hasAttribute(w[$])&&j({target:x,attributeName:w[$],oldValue:null})}),x}};function e(m,u){if(m){if(typeof m=="string")return r(m,u);var h=Object.prototype.toString.call(m).slice(8,-1);if(h==="Object"&&m.constructor&&(h=m.constructor.name),h==="Map"||h==="Set")return Array.from(m);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return r(m,u)}}function r(m,u){(u==null||u>m.length)&&(u=m.length);for(var h=0,j=new Array(u);h<u;h++)j[h]=m[h];return j}function n(m,u){var h=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!h){if(Array.isArray(m)||(h=e(m))||u&&m&&typeof m.length=="number"){h&&(m=h);var j=0,x=function(){};return{s:x,n:function(){return j>=m.length?{done:!0}:{done:!1,value:m[j++]}},e:function(P){throw P},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T=!0,w=!1,$;return{s:function(){h=h.call(m)},n:function(){var P=h.next();return T=P.done,P},e:function(P){w=!0,$=P},f:function(){try{!T&&h.return!=null&&h.return()}finally{if(w)throw $}}}}var i=!0,o=!1,s="querySelectorAll",d=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MutationObserver,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["*"],T=function P(Q,ee,H,k,M,O){var V=n(Q),ge;try{for(V.s();!(ge=V.n()).done;){var R=ge.value;(O||s in R)&&(M?H.has(R)||(H.add(R),k.delete(R),u(R,M)):k.has(R)||(k.add(R),H.delete(R),u(R,M)),O||P(R[s](ee),ee,H,k,M,i))}}catch(Ct){V.e(Ct)}finally{V.f()}},w=new j(function(P){if(x.length){var Q=x.join(","),ee=new Set,H=new Set,k=n(P),M;try{for(k.s();!(M=k.n()).done;){var O=M.value,V=O.addedNodes,ge=O.removedNodes;T(ge,Q,ee,H,o,o),T(V,Q,ee,H,i,o)}}catch(R){k.e(R)}finally{k.f()}}}),$=w.observe;return(w.observe=function(P){return $.call(w,P,{subtree:i,childList:i})})(h),w},f="querySelectorAll",c=self,g=c.document,y=c.Element,A=c.MutationObserver,L=c.Set,I=c.WeakMap,B=function(u){return f in u},N=[].filter,G=function(m){var u=new I,h=function(k){for(var M=0,O=k.length;M<O;M++)u.delete(k[M])},j=function(){for(var k=Q.takeRecords(),M=0,O=k.length;M<O;M++)w(N.call(k[M].removedNodes,B),!1),w(N.call(k[M].addedNodes,B),!0)},x=function(k){return k.matches||k.webkitMatchesSelector||k.msMatchesSelector},T=function(k,M){var O;if(M)for(var V,ge=x(k),R=0,Ct=$.length;R<Ct;R++)ge.call(k,V=$[R])&&(u.has(k)||u.set(k,new L),O=u.get(k),O.has(V)||(O.add(V),m.handle(k,M,V)));else u.has(k)&&(O=u.get(k),u.delete(k),O.forEach(function(xo){m.handle(k,M,xo)}))},w=function(k){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=0,V=k.length;O<V;O++)T(k[O],M)},$=m.query,P=m.root||g,Q=d(T,P,A,$),ee=y.prototype.attachShadow;return ee&&(y.prototype.attachShadow=function(H){var k=ee.call(this,H);return Q.observe(k),k}),$.length&&w(P[f]($)),{drop:h,flush:j,observer:Q,parse:w}},D=self,b=D.document,F=D.Map,xt=D.MutationObserver,me=D.Object,he=D.Set,Ne=D.WeakMap,Y=D.Element,qe=D.HTMLElement,Ve=D.Node,_e=D.Error,v=D.TypeError,Ge=D.Reflect,p=me.defineProperty,l=me.keys,a=me.getOwnPropertyNames,_=me.setPrototypeOf,C=!self.customElements,q=function(u){for(var h=l(u),j=[],x=h.length,T=0;T<x;T++)j[T]=u[h[T]],delete u[h[T]];return function(){for(var w=0;w<x;w++)u[h[w]]=j[w]}};if(C){var E=function(){var u=this.constructor;if(!Se.has(u))throw new v("Illegal constructor");var h=Se.get(u);if(Ue)return pr(Ue,h);var j=Fe.call(b,h);return pr(_(j,u.prototype),h)},Fe=b.createElement,Se=new F,ze=new F,ur=new F,Le=new F,fr=[],ao=function(u,h,j){var x=ur.get(j);if(h&&!x.isPrototypeOf(u)){var T=q(u);Ue=_(u,x);try{new x.constructor}finally{Ue=null,T()}}var w="".concat(h?"":"dis","connectedCallback");w in x&&u[w]()},so=G({query:fr,handle:ao}),lo=so.parse,Ue=null,Et=function(u){if(!ze.has(u)){var h,j=new Promise(function(x){h=x});ze.set(u,{$:j,_:h})}return ze.get(u).$},pr=t(Et,xt);self.customElements={define:function(u,h){if(Le.has(u))throw new _e('the name "'.concat(u,'" has already been used with this registry'));Se.set(h,u),ur.set(u,h.prototype),Le.set(u,h),fr.push(u),Et(u).then(function(){lo(b.querySelectorAll(u))}),ze.get(u)._(h)},get:function(u){return Le.get(u)},whenDefined:Et},p(E.prototype=qe.prototype,"constructor",{value:E}),self.HTMLElement=E,b.createElement=function(m,u){var h=u&&u.is,j=h?Le.get(h):Le.get(m);return j?new j:Fe.call(b,m)},"isConnected"in Ve.prototype||p(Ve.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(C=!self.customElements.get("extends-li"),C)try{var mr=function m(){return self.Reflect.construct(HTMLLIElement,[],m)};mr.prototype=HTMLLIElement.prototype;var hr="extends-li";self.customElements.define("extends-li",mr,{extends:"li"}),C=b.createElement("li",{is:hr}).outerHTML.indexOf(hr)<0;var gr=self.customElements,co=gr.get,uo=gr.whenDefined;self.customElements.whenDefined=function(m){var u=this;return uo.call(this,m).then(function(h){return h||co.call(u,m)})}}catch{}if(C){var br=function(u){var h=wt.get(u);Er(h.querySelectorAll(this),u.isConnected)},U=self.customElements,yr=b.createElement,fo=U.define,po=U.get,mo=U.upgrade,ho=Ge||{construct:function(u){return u.call(this)}},go=ho.construct,wt=new Ne,kt=new he,Ke=new F,Je=new F,vr=new F,We=new F,jr=[],Xe=[],xr=function(u){return We.get(u)||po.call(U,u)},bo=function(u,h,j){var x=vr.get(j);if(h&&!x.isPrototypeOf(u)){var T=q(u);Ze=_(u,x);try{new x.constructor}finally{Ze=null,T()}}var w="".concat(h?"":"dis","connectedCallback");w in x&&u[w]()},yo=G({query:Xe,handle:bo}),Er=yo.parse,vo=G({query:jr,handle:function(u,h){wt.has(u)&&(h?kt.add(u):kt.delete(u),Xe.length&&br.call(Xe,u))}}),jo=vo.parse,wr=Y.prototype.attachShadow;wr&&(Y.prototype.attachShadow=function(m){var u=wr.call(this,m);return wt.set(this,u),u});var At=function(u){if(!Je.has(u)){var h,j=new Promise(function(x){h=x});Je.set(u,{$:j,_:h})}return Je.get(u).$},Tt=t(At,xt),Ze=null;a(self).filter(function(m){return/^HTML.*Element$/.test(m)}).forEach(function(m){var u=self[m];function h(){var j=this.constructor;if(!Ke.has(j))throw new v("Illegal constructor");var x=Ke.get(j),T=x.is,w=x.tag;if(T){if(Ze)return Tt(Ze,T);var $=yr.call(b,w);return $.setAttribute("is",T),Tt(_($,j.prototype),T)}else return go.call(this,u,[],j)}p(h.prototype=u.prototype,"constructor",{value:h}),p(self,m,{value:h})}),b.createElement=function(m,u){var h=u&&u.is;if(h){var j=We.get(h);if(j&&Ke.get(j).tag===m)return new j}var x=yr.call(b,m);return h&&x.setAttribute("is",h),x},U.get=xr,U.whenDefined=At,U.upgrade=function(m){var u=m.getAttribute("is");if(u){var h=We.get(u);if(h){Tt(_(m,h.prototype),u);return}}mo.call(U,m)},U.define=function(m,u,h){if(xr(m))throw new _e("'".concat(m,"' has already been defined as a custom element"));var j,x=h&&h.extends;Ke.set(u,x?{is:m,tag:x}:{is:"",tag:m}),x?(j="".concat(x,'[is="').concat(m,'"]'),vr.set(j,u.prototype),We.set(m,u),Xe.push(j)):(fo.apply(U,arguments),jr.push(j=m)),At(m).then(function(){x?(Er(b.querySelectorAll(j)),kt.forEach(br,[j])):jo(b.querySelectorAll(j))}),Je.get(m)._(u)}}})();var Te=be(Br()),to=be(en()),ro=be(On()),no=be(Wn()),oo=be(kr());var Xn=be(kr()),yt=class{constructor(e,r){this.progressBar=null;this.fileDrop=e=>{this.swallowEvent(e),e.dataTransfer&&(this.fieldGroup.touch(),this.inputElement.files=e.dataTransfer.files,this.uploadFiles(this.inputElement.files).then(()=>{this.fieldGroup.inputted(),this.fieldGroup.validate()}))};this.fileRemove=()=>{for(this.inputElement.value="",this.uploadedFiles=this.initialData.length>0?[{}]:[];this.dropbox.firstChild;)this.dropbox.removeChild(this.dropbox.firstChild);this.dropbox.appendChild(this.emptyDropboxItem),this.fieldGroup.touch(),this.fieldGroup.inputted(),this.fieldGroup.validate()};this.swallowEvent=e=>{e.stopPropagation(),e.preventDefault()};if(this.fieldGroup=e,this.inputElement=r,this.maxUploadSize=parseInt(this.inputElement.getAttribute("max-size")??"0"),this.dropbox=this.fieldGroup.element.querySelector("figure.dj-dropbox"),!this.dropbox)throw new Error('Element <input type="file"> requires sibling element <figure class="dj-dropbox"></figure>');if(this.chooseFileButton=this.fieldGroup.element.querySelector("button.dj-choose-file"),!this.chooseFileButton)throw new Error('Element <input type="file"> requires sibling element <button class="dj-choose-file"></button>');if(this.progressBar=this.fieldGroup.element.querySelector("progress"),this.progressBar&&(this.progressBar.style.visibility="hidden"),this.emptyDropboxItem=this.dropbox.querySelector("div.dj-empty-item"),!this.emptyDropboxItem)throw new Error('Element <input type="file"> requires sibling element <figure><div class="dj-empty-item"></div></figure>');let n=this.fieldGroup.element.querySelector(".dj-dropbox-items");if(!n)throw new Error('Element <input type="file"> requires sibling element <template class="dj-dropbox-items"></template>');this.dropboxItemTemplate=(0,Xn.default)(n.innerHTML),this.observer=new MutationObserver(o=>this.attributesChanged(o)),this.observer.observe(this.inputElement,{attributes:!0}),this.chooseFileButton.disabled=r.disabled;let i=document.getElementById(`initial_${r.id}`);i!=null&&i.textContent?(this.uploadedFiles=this.initialData=[JSON.parse(i.textContent)],this.renderDropbox()):this.uploadedFiles=this.initialData=[],this.dropbox.addEventListener("dragenter",this.swallowEvent),this.dropbox.addEventListener("dragover",this.swallowEvent),this.dropbox.addEventListener("drop",this.fileDrop),this.chooseFileButton.addEventListener("click",()=>{r.click()}),r.addEventListener("change",()=>this.uploadFiles(this.inputElement.files).then(()=>{this.fieldGroup.inputted(),this.fieldGroup.validate()}).catch(()=>{this.fieldGroup.reportFailedUpload()}).finally(()=>{this.chooseFileButton.blur(),this.fieldGroup.touch()}))}async uploadFiles(e){return!e||e.length===0?Promise.reject():new Promise((r,n)=>{let i=e.item(0);i&&(!this.maxUploadSize||i.size<=this.maxUploadSize)?this.uploadFile(i,this.dropbox.clientHeight).then(o=>{this.uploadedFiles=[o],this.renderDropbox(),this.fieldGroup.inputted(),r()}).catch(()=>{n()}):n()})}async uploadFile(e,r){let n=this;function i(s){let d=s.lengthComputable?s.loaded/s.total:0;n.progressBar&&(n.progressBar.style.visibility="visible",n.progressBar.value=.97*d)}let o=new FormData;return o.append("temp_file",e),o.append("image_height",r.toString()),new Promise((s,d)=>{function f(){n.progressBar&&(n.progressBar.value=1,window.setTimeout(()=>n.progressBar.style.visibility="hidden",333)),c.status===200?s(c.response):d(c.response)}let c=new XMLHttpRequest;n.progressBar&&(c.addEventListener("loadstart",i),c.upload.addEventListener("progress",i,!1)),c.addEventListener("loadend",f),c.open("POST",this.fieldGroup.form.formset.endpoint,!0);let g=this.fieldGroup.form.formset.CSRFToken;g&&c.setRequestHeader("X-CSRFToken",g),c.responseType="json",c.send(o)})}renderDropbox(){let e=[];for(let n of this.uploadedFiles)e.push(this.dropboxItemTemplate(n));e.length>0?this.dropbox.innerHTML=e.join(""):this.dropbox.replaceChildren(this.emptyDropboxItem);let r=this.dropbox.querySelector(".dj-delete-file");r&&r.addEventListener("click",this.fileRemove,{once:!0})}attributesChanged(e){for(let r of e)r.type==="attributes"&&r.attributeName==="disabled"&&this.chooseFileButton.disabled!=this.inputElement.disabled&&(this.chooseFileButton.disabled=this.inputElement.disabled)}inProgress(){return!!this.inputElement.files&&this.inputElement.files.length>0&&!this.uploadedFiles.length}resetToInitial(){this.uploadedFiles=this.initialData,this.renderDropbox()}};function nr(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,r+=r.repeat(e),t+r.slice(0,e))}var Z=class extends Error{constructor(r,n,i,o){super();this.message=r,this.expected=n,this.found=i,this.location=o,this.name="SyntaxError",typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(this,Z.prototype):this.__proto__=Z.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Z)}static buildMessage(r,n){function i(g){return g.charCodeAt(0).toString(16).toUpperCase()}function o(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,y=>"\\x0"+i(y)).replace(/[\x10-\x1F\x7F-\x9F]/g,y=>"\\x"+i(y))}function s(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,y=>"\\x0"+i(y)).replace(/[\x10-\x1F\x7F-\x9F]/g,y=>"\\x"+i(y))}function d(g){switch(g.type){case"literal":return'"'+o(g.text)+'"';case"class":let y=g.parts.map(A=>Array.isArray(A)?s(A[0])+"-"+s(A[1]):s(A));return"["+(g.inverted?"^":"")+y+"]";case"any":return"any character";case"end":return"end of input";case"other":return g.description}}function f(g){let y=g.map(d),A,L;if(y.sort(),y.length>0){for(A=1,L=1;A<y.length;A++)y[A-1]!==y[A]&&(y[L]=y[A],L++);y.length=L}switch(y.length){case 1:return y[0];case 2:return y[0]+" or "+y[1];default:return y.slice(0,-1).join(", ")+", or "+y[y.length-1]}}function c(g){return g?'"'+o(g)+'"':"end of input"}return"Expected "+f(r)+" but "+c(n)+" found."}format(r){let n="Error: "+this.message;if(this.location){let i=null,o;for(o=0;o<r.length;o++)if(r[o].source===this.location.source){i=r[o].text.split(/\r\n|\n|\r/g);break}let s=this.location.start,d=this.location.source+":"+s.line+":"+s.column;if(i){let f=this.location.end,c=nr("",s.line.toString().length," "),g=i[s.line-1],y=s.line===f.line?f.column:g.length+1;n+=`
 --> `+d+`
`+c+` |
`+s.line+" | "+g+`
`+c+" | "+nr("",s.column-1," ")+nr("",y-s.column,"^")}else n+=`
 at `+d}return n}};function _l(t,e){e=e!==void 0?e:{};let r={},n=e.grammarSource,i={Actions:5,Expression:0},o=5,s=[function(p,l){return l.reduce(function(a,_){return a+_[1]+_[3]},p)},function(){return"false"},"===",b("===",!1),"==",b("==",!1),"!==",b("!==",!1),"!=",b("!=",!1),"<=",b("<=",!1),">=",b(">=",!1),"<",b("<",!1),">",b(">",!1),"+",b("+",!1),"-",b("-",!1),"*",b("*",!1),"/",b("/",!1),"&&",b("&&",!1),"&",b("&",!1),"||",b("||",!1),"|",b("|",!1),"!",b("!",!1),"(",b("(",!1),")",b(")",!1),function(p){return"("+p+")"},function(p){return"'"+p+"'"},function(p){return"this.getDataValue(["+p.split(".").map(a=>"'"+a+"'").join(",")+"])"},"!~",b("!~",!1),function(p,l){return{successChain:p,rejectChain:l}},function(p){return{successChain:p,rejectChain:[]}},"->",b("->",!1),function(p,l){return[p].concat(l)},function(p){return[p]},function(p,l){return{funcname:p,args:l}},"()",b("()",!1),function(p){return{funcname:p,args:[]}},",",b(",",!1),function(p){return[p]},/^[ \t\n\r]/,F([" ","	",`
`,"\r"],!1,!1),"[",b("[",!1),"{",b("{",!1),"]",b("]",!1),"}",b("}",!1),":",b(":",!1),function(p,l){return l},function(p,l){var a={};return[p].concat(l).forEach(function(_){a[_.name]=_.value}),a},function(p){return p!==null?p:{}},function(p,l){return{name:p,value:l}},/^[$A-Za-z_]/,F(["$",["A","Z"],["a","z"],"_"],!1,!1),/^[$0-9A-Za-z_]/,F(["$",["0","9"],["A","Z"],["a","z"],"_"],!1,!1),function(p,l){return l},function(p,l){return[p].concat(l)},function(p){return p!==null?p:[]},he("number"),function(){return parseFloat(B())},".",b(".",!1),/^[1-9]/,F([["1","9"]],!1,!1),/^[eE]/,F(["e","E"],!1,!1),"0",b("0",!1),he("string"),'"',b('"',!1),function(p){return p},"'",b("'",!1),/^[^\0-\x1F"\\]/,F([["\0",""],'"',"\\"],!0,!1),'\\"',b('\\"',!1),function(){return'"'},/^[^\0-\x1F'\\]/,F([["\0",""],"'","\\"],!0,!1),"\\'",b("\\'",!1),function(){return"'"},"\\\\",b("\\\\",!1),"\\b",b("\\b",!1),"\\f",b("\\f",!1),"\\n",b("\\n",!1),"\\r",b("\\r",!1),"\\t",b("\\t",!1),"\\u",b("\\u",!1),function(p){return String.fromCharCode(parseInt(p,16))},he("boolean"),function(){return!0},function(){return!1},function(){return null},"false",b("false",!1),"true",b("true",!1),"null",b("null",!1),function(p,l){return l.reduce(function(a,_){return a+"."+_[1]},p)},"...",b("...",!1),"..",b("..",!1),function(p,l){return p+l},function(p,l){return p+l},/^[$a-zA-Z_]/,F(["$",["a","z"],["A","Z"],"_"],!1,!1),/^[$a-zA-Z0-9_]/,F(["$",["a","z"],["A","Z"],["0","9"],"_"],!1,!1),function(p){return p instanceof Array?p.join(""):p},/^[0-9]/,F([["0","9"]],!1,!1),/^[0-9a-f]/i,F([["0","9"],["a","f"]],!1,!0)],d=[v(`%;*/\x9E#;#/\x95$;*/\x8C$$%;*/>#;!/5$;*/,$; /#$+$)($'#(#'#("'#&'#0H*%;*/>#;!/5$;*/,$; /#$+$)($'#(#'#("'#&'#&/2$;*/)$8%: %"#!)(%'#($'#(#'#("'#&'#.. &%;*/& 8!:!! )`),v(`2"""6"7#.\xD1 &2$""6$7%.\xC5 &2&""6&7'.\xB9 &2(""6(7).\xAD &2*""6*7+.\xA1 &2,""6,7-.\x95 &2.""6.7/.\x89 &20""6071.} &22""6273.q &24""6475.e &26""6677.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A`),v('2B""6B7C'),v(`%2D""6D7E/R#;*/I$; /@$;*/7$2F""6F7G/($8%:H%!")(%'#($'#(#'#("'#&'#.A &;6.; &;D.5 &;$./ &%;@/' 8!:I!! )`),v("%;H/' 8!:J!! )"),v(`%;&/\\#;*/S$2K""6K7L/D$;*/;$;&/2$;*/)$8&:M&"%!)(&'#(%'#($'#(#'#("'#&'#./ &%;&/' 8!:N!! )`),v(`%;'/\\#;*/S$2O""6O7P/D$;*/;$;&/2$;*/)$8&:Q&"%!)(&'#(%'#($'#(#'#("'#&'#./ &%;'/' 8!:R!! )`),v(`%;*/i#%;4/"!&,)/Y$2D""6D7E/J$;(/A$2F""6F7G/2$;*/)$8&:S&"$")(&'#(%'#($'#(#'#("'#&'#.a &%%;4/"!&,)/7#2T""6T7U/($8":V"!!)("'#&'#.6 &%%;4/"!&,)/' 8!:V!! )`),v(`%;)/S#;*/J$2W""6W7X/;$;*/2$;(/)$8%:Q%"$ )(%'#($'#(#'#("'#&'#./ &%;)/' 8!:Y!! )`),v(";6./ &;@.) &;2.# &;5"),v('$4Z""5!7[0)*4Z""5!7[&'),v(`%;*/;#2\\""6\\7]/,$;*/#$+#)(#'#("'#&'#`),v(`%;*/;#2^""6^7_/,$;*/#$+#)(#'#("'#&'#`),v(`%;*/;#2\`""6\`7a/,$;*/#$+#)(#'#("'#&'#`),v(`%;*/;#2b""6b7c/,$;*/#$+#)(#'#("'#&'#`),v(`%;*/;#2d""6d7e/,$;*/#$+#)(#'#("'#&'#`),v(`%;*/;#2W""6W7X/,$;*/#$+#)(#'#("'#&'#`),v(";D.5 &;2./ &;5.) &;6.# &;@"),v(`%;,/\x91#%;3/k#$%;0/2#;3/)$8":f""$ )("'#&'#0<*%;0/2#;3/)$8":f""$ )("'#&'#&/)$8":g""! )("'#&'#." &"/1$;./($8#:h#!!)(#'#("'#&'#`),v(`%;@/;#;//2$;1/)$8#:i#"" )(#'#("'#&'#.L &%%;4/"!&,)/;#;//2$;1/)$8#:i#"" )(#'#("'#&'#`),v(`%4j""5!7k/?#$4l""5!7m0)*4l""5!7m&/#$+")("'#&'#`),v(`%;+/\x91#%;1/k#$%;0/2#;1/)$8":n""$ )("'#&'#0<*%;0/2#;1/)$8":n""$ )("'#&'#&/)$8":o""! )("'#&'#." &"/1$;-/($8#:p#!!)(#'#("'#&'#`),v(`<%;=." &"/L#;</C$;;." &"/5$;:." &"/'$8$:r$ )($'#(#'#("'#&'#=." 7q`),v('2s""6s7t'),v('4u""5!7v'),v('4w""5!7x'),v(`%;9/M#;=.# &;>." &"/9$$;M/&#0#*;M&&&#/#$+#)(#'#("'#&'#`),v(`%;7/9#$;M/&#0#*;M&&&#/#$+")("'#&'#`),v(`;?.= &%;8/3#$;M0#*;M&/#$+")("'#&'#`),v('24""6475'),v('22""6273'),v('2y""6y7z'),v(`<%2|""6|7}/N#%$;A0#*;A&/"!&,)/7$2|""6|7}/($8#:~#!!)(#'#("'#&'#.^ &%2\x7F""6\x7F7\x80/N#%$;B0#*;B&/"!&,)/7$2\x7F""6\x7F7\x80/($8#:~#!!)(#'#("'#&'#=." 7{`),v('4\x81""5!7\x82.: &%2\x83""6\x837\x84/& 8!:\x85! ).# &;C'),v('4\x86""5!7\x87.: &%2\x88""6\x887\x89/& 8!:\x8A! ).# &;C'),v(`2\x8B""6\x8B7\x8C.\xA9 &2\x8D""6\x8D7\x8E.\x9D &2\x8F""6\x8F7\x90.\x91 &2\x91""6\x917\x92.\x85 &2\x93""6\x937\x94.y &2\x95""6\x957\x96.m &%2\x97""6\x977\x98/]#%%;N/>#;N/5$;N/,$;N/#$+$)($'#(#'#("'#&'#/"!&,)/($8":\x99"! )("'#&'#`),v('<%;F/& 8!:\x9B! ).? &%;E/& 8!:\x9C! ).. &%;G/& 8!:\x9D! )=." 7\x9A'),v('2\x9E""6\x9E7\x9F'),v('2\xA0""6\xA07\xA1'),v('2\xA2""6\xA27\xA3'),v(`%;I/\x91#$%2s""6s7t/?#;J.0 &$;M/&#0#*;M&&&#/#$+")("'#&'#0O*%2s""6s7t/?#;J.0 &$;M/&#0#*;M&&&#/#$+")("'#&'#&/)$8":\xA4""! )("'#&'#`),v(`%2\xA5""6\xA57\xA6.5 &2\xA7""6\xA77\xA8.) &2s""6s7t/2#;J/)$8":\xA9""! )("'#&'#.# &;J`),v(`%;K/2#;L/)$8":\xAA""! )("'#&'#`),v('4\xAB""5!7\xAC'),v(`%$4\xAD""5!7\xAE0)*4\xAD""5!7\xAE&/' 8!:\xAF!! )`),v('4\xB0""5!7\xB1'),v('4\xB2""5!7\xB3')],f=0,c=0,g=[{line:1,column:1}],y=0,A=[],L=0,I;if(e.startRule!==void 0){if(!(e.startRule in i))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');o=i[e.startRule]}function B(){return t.substring(c,f)}function N(){return Y(c,f)}function G(p,l){throw l=l!==void 0?l:Y(c,f),_e([he(p)],t.substring(c,f),l)}function D(p,l){throw l=l!==void 0?l:Y(c,f),Ve(p,l)}function b(p,l){return{type:"literal",text:p,ignoreCase:l}}function F(p,l,a){return{type:"class",parts:p,inverted:l,ignoreCase:a}}function xt(){return{type:"any"}}function me(){return{type:"end"}}function he(p){return{type:"other",description:p}}function Ne(p){let l=g[p],a;if(l)return l;for(a=p-1;!g[a];)a--;for(l=g[a],l={line:l.line,column:l.column};a<p;)t.charCodeAt(a)===10?(l.line++,l.column=1):l.column++,a++;return g[p]=l,l}function Y(p,l){let a=Ne(p),_=Ne(l);return{source:n,start:{offset:p,line:a.line,column:a.column},end:{offset:l,line:_.line,column:_.column}}}function qe(p){f<y||(f>y&&(y=f,A=[]),A.push(p))}function Ve(p,l){return new Z(p,[],"",l)}function _e(p,l,a){return new Z(Z.buildMessage(p,l),p,l,a)}function v(p){return p.split("").map(l=>l.charCodeAt(0)-32)}function Ge(p){let l=d[p],a=0,_=[],C=l.length,q=[],E=[],Fe;for(;;){for(;a<C;)switch(l[a]){case 0:E.push(s[l[a+1]]),a+=2;break;case 1:E.push(void 0),a++;break;case 2:E.push(null),a++;break;case 3:E.push(r),a++;break;case 4:E.push([]),a++;break;case 5:E.push(f),a++;break;case 6:E.pop(),a++;break;case 7:f=E.pop(),a++;break;case 8:E.length-=l[a+1],a+=2;break;case 9:E.splice(-2,1),a++;break;case 10:E[E.length-2].push(E.pop()),a++;break;case 11:E.push(E.splice(E.length-l[a+1],l[a+1])),a+=2;break;case 12:E.push(t.substring(E.pop(),f)),a++;break;case 13:q.push(C),_.push(a+3+l[a+1]+l[a+2]),E[E.length-1]?(C=a+3+l[a+1],a+=3):(C=a+3+l[a+1]+l[a+2],a+=3+l[a+1]);break;case 14:q.push(C),_.push(a+3+l[a+1]+l[a+2]),E[E.length-1]===r?(C=a+3+l[a+1],a+=3):(C=a+3+l[a+1]+l[a+2],a+=3+l[a+1]);break;case 15:q.push(C),_.push(a+3+l[a+1]+l[a+2]),E[E.length-1]!==r?(C=a+3+l[a+1],a+=3):(C=a+3+l[a+1]+l[a+2],a+=3+l[a+1]);break;case 16:E[E.length-1]!==r?(q.push(C),_.push(a),C=a+2+l[a+1],a+=2):a+=2+l[a+1];break;case 17:q.push(C),_.push(a+3+l[a+1]+l[a+2]),t.length>f?(C=a+3+l[a+1],a+=3):(C=a+3+l[a+1]+l[a+2],a+=3+l[a+1]);break;case 18:q.push(C),_.push(a+4+l[a+2]+l[a+3]),t.substr(f,s[l[a+1]].length)===s[l[a+1]]?(C=a+4+l[a+2],a+=4):(C=a+4+l[a+2]+l[a+3],a+=4+l[a+2]);break;case 19:q.push(C),_.push(a+4+l[a+2]+l[a+3]),t.substr(f,s[l[a+1]].length).toLowerCase()===s[l[a+1]]?(C=a+4+l[a+2],a+=4):(C=a+4+l[a+2]+l[a+3],a+=4+l[a+2]);break;case 20:q.push(C),_.push(a+4+l[a+2]+l[a+3]),s[l[a+1]].test(t.charAt(f))?(C=a+4+l[a+2],a+=4):(C=a+4+l[a+2]+l[a+3],a+=4+l[a+2]);break;case 21:E.push(t.substr(f,l[a+1])),f+=l[a+1],a+=2;break;case 22:E.push(s[l[a+1]]),f+=s[l[a+1]].length,a+=2;break;case 23:E.push(r),L===0&&qe(s[l[a+1]]),a+=2;break;case 24:c=E[E.length-1-l[a+1]],a+=2;break;case 25:c=f,a++;break;case 26:Fe=l.slice(a+4,a+4+l[a+3]).map(function(Se){return E[E.length-1-Se]}),E.splice(E.length-l[a+2],l[a+2],s[l[a+1]].apply(null,Fe)),a+=4+l[a+3];break;case 27:E.push(Ge(l[a+1])),a+=2;break;case 28:L++,a++;break;case 29:L--,a++;break;default:throw new Error("Invalid opcode: "+l[a]+".")}if(q.length>0)C=q.pop(),a=_.pop();else break}return E[0]}if(I=Ge(o),I!==r&&f===t.length)return I;throw I!==r&&f<t.length&&qe(me()),_e(A,y<t.length?t.charAt(y):null,y<t.length?Y(y,y+1):Y(y,y))}var ke=_l;var Zn=`select::placeholder{color:gray}select.ts-hidden-accessible{display:none}django-formset{--django-formset-color-invalid: rgb(255, 3, 0);--django-formset-shadow-invalid: rgb(255, 3, 0, 0.25);--django-formset-color-valid: rgb(0, 122, 0);--django-formset-icon-invalid: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 16" fill="rgb(255, 3, 0)"><path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/></svg>');--django-formset-icon-warning: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 16" fill="rgb(255, 165, 0)"><path fill-rule="evenodd" d="M7.938 2.016a.146.146 0 0 0-.054.057L1.027 13.74a.176.176 0 0 0-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017h13.713a.12.12 0 0 0 .066-.017.163.163 0 0 0 .055-.06.176.176 0 0 0-.003-.183L8.12 2.073a.146.146 0 0 0-.054-.057A.13.13 0 0 0 8.002 2a.13.13 0 0 0-.064.016zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/><path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/></svg>');--django-formset-icon-valid: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 16" fill="rgb(0, 122, 0)"><path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/></svg>')}django-formset ul.dj-errorlist{list-style:none;margin-top:0;margin-bottom:0;margin-left:0;padding-left:0;color:var(--django-formset-color-invalid)}django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted)>input[type=email]:not(.dj-exempt-feedback):invalid:not(:focus),django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted) :not([role=group])>input[type=email]:not(.dj-exempt-feedback):invalid:not(:focus){border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted)>input[type=text]:not(.dj-exempt-feedback):invalid:not(:focus),django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted) :not([role=group])>input[type=text]:not(.dj-exempt-feedback):invalid:not(:focus){border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted)>input[type=number]:not(.dj-exempt-feedback):invalid:not(:focus),django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted) :not([role=group])>input[type=number]:not(.dj-exempt-feedback):invalid:not(:focus){border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted)>input[type=date]:not(.dj-exempt-feedback):invalid:not(:focus),django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted) :not([role=group])>input[type=date]:not(.dj-exempt-feedback):invalid:not(:focus){border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted)>input[type=datetime-local]:not(.dj-exempt-feedback):invalid:not(:focus),django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted) :not([role=group])>input[type=datetime-local]:not(.dj-exempt-feedback):invalid:not(:focus){border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted)>input[type=url]:not(.dj-exempt-feedback):invalid:not(:focus),django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted) :not([role=group])>input[type=url]:not(.dj-exempt-feedback):invalid:not(:focus){border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted)>input[type=password]:not(.dj-exempt-feedback):invalid:not(:focus),django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted) :not([role=group])>input[type=password]:not(.dj-exempt-feedback):invalid:not(:focus){border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted)>select:not(.dj-exempt-feedback):invalid:not(:focus),django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted) :not([role=group])>select:not(.dj-exempt-feedback):invalid:not(:focus){border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted)>textarea:not(.dj-exempt-feedback):invalid:not(:focus),django-formset.dj-feedback-errors [role=group].dj-touched:not(.dj-submitted) :not([role=group])>textarea:not(.dj-exempt-feedback):invalid:not(:focus){border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted)>input[type=email]:not(.dj-exempt-feedback):invalid:focus,django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=email]:not(.dj-exempt-feedback):invalid:focus{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted)>input[type=text]:not(.dj-exempt-feedback):invalid:focus,django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=text]:not(.dj-exempt-feedback):invalid:focus{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted)>input[type=number]:not(.dj-exempt-feedback):invalid:focus,django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=number]:not(.dj-exempt-feedback):invalid:focus{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted)>input[type=date]:not(.dj-exempt-feedback):invalid:focus,django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=date]:not(.dj-exempt-feedback):invalid:focus{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted)>input[type=datetime-local]:not(.dj-exempt-feedback):invalid:focus,django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=datetime-local]:not(.dj-exempt-feedback):invalid:focus{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted)>input[type=url]:not(.dj-exempt-feedback):invalid:focus,django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=url]:not(.dj-exempt-feedback):invalid:focus{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted)>input[type=password]:not(.dj-exempt-feedback):invalid:focus,django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=password]:not(.dj-exempt-feedback):invalid:focus{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted)>select:not(.dj-exempt-feedback):invalid:focus,django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>select:not(.dj-exempt-feedback):invalid:focus{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted)>textarea:not(.dj-exempt-feedback):invalid:focus,django-formset.dj-feedback-warnings [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>textarea:not(.dj-exempt-feedback):invalid:focus{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted)>input[type=email]:not(.dj-exempt-feedback):invalid,django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=email]:not(.dj-exempt-feedback):invalid{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted)>input[type=text]:not(.dj-exempt-feedback):invalid,django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=text]:not(.dj-exempt-feedback):invalid{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted)>input[type=number]:not(.dj-exempt-feedback):invalid,django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=number]:not(.dj-exempt-feedback):invalid{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted)>input[type=date]:not(.dj-exempt-feedback):invalid,django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=date]:not(.dj-exempt-feedback):invalid{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted)>input[type=datetime-local]:not(.dj-exempt-feedback):invalid,django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=datetime-local]:not(.dj-exempt-feedback):invalid{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted)>input[type=url]:not(.dj-exempt-feedback):invalid,django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=url]:not(.dj-exempt-feedback):invalid{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted)>input[type=password]:not(.dj-exempt-feedback):invalid,django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>input[type=password]:not(.dj-exempt-feedback):invalid{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted)>select:not(.dj-exempt-feedback):invalid,django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>select:not(.dj-exempt-feedback):invalid{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted)>textarea:not(.dj-exempt-feedback):invalid,django-formset.dj-feedback-warnings:not(.dj-feedback-errors) [role=group].dj-dirty:not(.dj-submitted) :not([role=group])>textarea:not(.dj-exempt-feedback):invalid{background-image:var(--django-formset-icon-warning)}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=email]:not(.dj-exempt-feedback):valid:not(:focus),django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=email]:not(.dj-exempt-feedback):valid:not(:focus){border-color:var(--django-formset-color-valid)}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=text]:not(.dj-exempt-feedback):valid:not(:focus),django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=text]:not(.dj-exempt-feedback):valid:not(:focus){border-color:var(--django-formset-color-valid)}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=number]:not(.dj-exempt-feedback):valid:not(:focus),django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=number]:not(.dj-exempt-feedback):valid:not(:focus){border-color:var(--django-formset-color-valid)}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=date]:not(.dj-exempt-feedback):valid:not(:focus),django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=date]:not(.dj-exempt-feedback):valid:not(:focus){border-color:var(--django-formset-color-valid)}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=datetime-local]:not(.dj-exempt-feedback):valid:not(:focus),django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=datetime-local]:not(.dj-exempt-feedback):valid:not(:focus){border-color:var(--django-formset-color-valid)}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=url]:not(.dj-exempt-feedback):valid:not(:focus),django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=url]:not(.dj-exempt-feedback):valid:not(:focus){border-color:var(--django-formset-color-valid)}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=password]:not(.dj-exempt-feedback):valid:not(:focus),django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=password]:not(.dj-exempt-feedback):valid:not(:focus){border-color:var(--django-formset-color-valid)}django-formset.dj-feedback-success [role=group].dj-dirty>select:not(.dj-exempt-feedback):valid:not(:focus),django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>select:not(.dj-exempt-feedback):valid:not(:focus){border-color:var(--django-formset-color-valid)}django-formset.dj-feedback-success [role=group].dj-dirty>textarea:not(.dj-exempt-feedback):valid:not(:focus),django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>textarea:not(.dj-exempt-feedback):valid:not(:focus){border-color:var(--django-formset-color-valid)}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=email]:not(.dj-exempt-feedback):valid,django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=email]:not(.dj-exempt-feedback):valid{background-image:var(--django-formset-icon-valid) !important}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=text]:not(.dj-exempt-feedback):valid,django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=text]:not(.dj-exempt-feedback):valid{background-image:var(--django-formset-icon-valid) !important}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=number]:not(.dj-exempt-feedback):valid,django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=number]:not(.dj-exempt-feedback):valid{background-image:var(--django-formset-icon-valid) !important}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=date]:not(.dj-exempt-feedback):valid,django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=date]:not(.dj-exempt-feedback):valid{background-image:var(--django-formset-icon-valid) !important}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=datetime-local]:not(.dj-exempt-feedback):valid,django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=datetime-local]:not(.dj-exempt-feedback):valid{background-image:var(--django-formset-icon-valid) !important}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=url]:not(.dj-exempt-feedback):valid,django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=url]:not(.dj-exempt-feedback):valid{background-image:var(--django-formset-icon-valid) !important}django-formset.dj-feedback-success [role=group].dj-dirty>input[type=password]:not(.dj-exempt-feedback):valid,django-formset.dj-feedback-success [role=group].dj-dirty :not([role=group])>input[type=password]:not(.dj-exempt-feedback):valid{background-image:var(--django-formset-icon-valid) !important}django-formset [role=group]{display:block}django-formset [role=group][hidden]{display:none}django-formset [role=group].dj-required>label,django-formset [role=group].dj-required-any>label{font-weight:bolder}django-formset [role=group].dj-submitted>input[type=email]:not(.dj-exempt-feedback):invalid{border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset [role=group].dj-submitted>input[type=email]:not(.dj-exempt-feedback):invalid:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group].dj-submitted>input[type=text]:not(.dj-exempt-feedback):invalid{border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset [role=group].dj-submitted>input[type=text]:not(.dj-exempt-feedback):invalid:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group].dj-submitted>input[type=number]:not(.dj-exempt-feedback):invalid{border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset [role=group].dj-submitted>input[type=number]:not(.dj-exempt-feedback):invalid:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group].dj-submitted>input[type=date]:not(.dj-exempt-feedback):invalid{border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset [role=group].dj-submitted>input[type=date]:not(.dj-exempt-feedback):invalid:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group].dj-submitted>input[type=datetime-local]:not(.dj-exempt-feedback):invalid{border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset [role=group].dj-submitted>input[type=datetime-local]:not(.dj-exempt-feedback):invalid:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group].dj-submitted>input[type=url]:not(.dj-exempt-feedback):invalid{border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset [role=group].dj-submitted>input[type=url]:not(.dj-exempt-feedback):invalid:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group].dj-submitted>input[type=password]:not(.dj-exempt-feedback):invalid{border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset [role=group].dj-submitted>input[type=password]:not(.dj-exempt-feedback):invalid:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group].dj-submitted>select:not(.dj-exempt-feedback):invalid{border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset [role=group].dj-submitted>select:not(.dj-exempt-feedback):invalid:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group].dj-submitted>textarea:not(.dj-exempt-feedback):invalid{border-color:var(--django-formset-color-invalid);background-image:var(--django-formset-icon-invalid)}django-formset [role=group].dj-submitted>textarea:not(.dj-exempt-feedback):invalid:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group] input{background-repeat:no-repeat !important;background-position:center right !important;background-origin:content-box !important}django-formset [role=group] input[type=date],django-formset [role=group] input[type=datetime-local]{position:relative}django-formset [role=group] input[type=date]::-webkit-datetime-edit-fields-wrapper,django-formset [role=group] input[type=datetime-local]::-webkit-datetime-edit-fields-wrapper{margin-left:1.75em}django-formset [role=group] input[type=date]::-webkit-calendar-picker-indicator,django-formset [role=group] input[type=datetime-local]::-webkit-calendar-picker-indicator{cursor:pointer;position:absolute;left:.75em}django-formset [role=group] input[type=date]:hover::-webkit-calendar-picker-indicator,django-formset [role=group] input[type=datetime-local]:hover::-webkit-calendar-picker-indicator{cursor:pointer}django-formset [role=group] select,django-formset [role=group] textarea{background-image:none !important}django-formset [role=group] select.dj-concealed,django-formset [role=group] textarea.dj-concealed{display:block !important;height:1px !important;min-height:initial !important;max-height:initial !important;padding:0 !important;margin:-1px 0 0 0 !important;border:none !important;opacity:0 !important;resize:none}django-formset [role=group] .dj-help-text{font-style:oblique}django-formset [role=group] .dj-form-optgroup{margin-bottom:.5rem}django-formset [role=group] .dj-form-optgroup>em{margin-left:.75rem}django-formset [role=group] .dj-form-inlined{display:inline-block}django-formset [role=group] input[type=file]{width:0 !important;height:0 !important}django-formset [role=group] .dj-control-panel{display:flex}django-formset [role=group] .dj-control-panel>div{height:fit-content;margin-left:.5rem}django-formset [role=group] .dj-control-panel>div progress{width:100%;margin-top:.25rem}django-formset [role=group] figure.dj-dropbox{all:unset;display:inline-flex;align-items:center;justify-content:space-between;background-color:#f5f5f5;margin:0 0 .25rem .25rem;padding:0;list-style:none;height:8rem;min-width:8rem;outline:gray thin dotted}django-formset [role=group] figure.dj-dropbox>div.dj-empty-item{flex-grow:1;text-align:center;height:auto}django-formset [role=group] figure.dj-dropbox>div.dj-empty-item p{padding-left:.5rem;padding-right:.5rem}django-formset [role=group] figure.dj-dropbox>img{all:unset;flex-grow:1;display:block;height:inherit;max-width:calc(100% - 12rem)}django-formset [role=group] figure.dj-dropbox>figcaption{all:unset;padding:.25rem .5rem;background-color:#fff;overflow-x:hidden;min-width:12rem}django-formset [role=group] figure.dj-dropbox>figcaption dl{font-size:small;margin:0 0 .25rem 0}django-formset [role=group] figure.dj-dropbox>figcaption dl dd{margin:0}django-formset [role=group] figure.dj-dropbox>figcaption .dj-delete-file,django-formset [role=group] figure.dj-dropbox>figcaption .dj-download-file{font-weight:bold;display:inline-block;cursor:pointer;text-decoration:none}django-formset [role=group] figure.dj-dropbox>figcaption .dj-delete-file:hover,django-formset [role=group] figure.dj-dropbox>figcaption .dj-download-file:hover{text-decoration:underline}django-formset [role=group] figure.dj-dropbox>figcaption .dj-download-file{margin-left:1rem;float:right}django-formset [role=group] .dj-dual-selector{display:flex}django-formset [role=group] .dj-dual-selector .left-column,django-formset [role=group] .dj-dual-selector .right-column,django-formset [role=group] .dj-dual-selector .control-column,django-formset [role=group] .dj-dual-selector .control-panel{display:flex;flex-direction:column}django-formset [role=group] .dj-dual-selector .control-column{justify-content:center;align-items:center}django-formset [role=group] .dj-dual-selector .control-panel{padding:1rem .5rem}django-formset [role=group] .dj-dual-selector select,django-formset [role=group] .dj-dual-selector django-sortable-select{min-width:10rem}django-formset [role=group] .dj-dual-selector select{height:auto}django-formset [role=group] .dj-dual-selector input{z-index:1}django-formset [role=group] .dj-dual-selector button svg{vertical-align:middle;width:16px;height:16px}django-formset [role=group] .dj-dual-selector.invalid .right-column input{border-color:var(--django-formset-color-invalid)}django-formset [role=group] .dj-dual-selector.invalid .right-column input:focus{box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}django-formset [role=group] .dj-dual-selector.invalid .right-column select,django-formset [role=group] .dj-dual-selector.invalid .right-column django-sortable-select{border-left-color:var(--django-formset-color-invalid);border-right-color:var(--django-formset-color-invalid);border-bottom-color:var(--django-formset-color-invalid)}django-formset [role=group] .dj-dual-selector.invalid .right-column select:focus,django-formset [role=group] .dj-dual-selector.invalid .right-column django-sortable-select.focus{border-top-color:var(--django-formset-color-invalid);box-shadow:0 0 0 .2rem var(--django-formset-shadow-invalid)}.dj-button-decorator{line-height:initial}.dj-button-decorator svg{vertical-align:baseline;width:1rem;height:1rem}.dj-button-decorator svg .path{stroke-dasharray:1000;stroke-dashoffset:0}.dj-button-decorator svg .path.circle{animation:dash .9s ease-in-out}.dj-button-decorator svg .path.line{stroke-dashoffset:1000;animation:dash .9s .35s ease-in-out forwards}.dj-button-decorator svg .path.check{stroke-dashoffset:-100;animation:dash-check .9s .35s ease-in-out forwards}.dj-button-decorator svg .spinner{transform-origin:center;animation:rotate 1.5s infinite linear}@keyframes dash{0%{stroke-dashoffset:1000}100%{stroke-dashoffset:0}}@keyframes dash-check{0%{stroke-dashoffset:-100}100%{stroke-dashoffset:900}}@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.dj-button-decorator .dj-icon{display:inline-block;width:1em;height:1em}`;var Yn=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
	<g class="spinner">
		<path style="stroke-width:0.729" d="m 12.73285,23.212276 -10e-7,-4.393157 A 0.27932072,0.27932072 0 0 0 12.27476,18.604602 l -2.6367848,2.196577 a 0.27932072,0.27932072 0 0 0 -10e-8,0.429037 l 2.6367859,2.196577 a 0.27932072,0.27932072 0 0 0 0.458089,-0.214517 z" />
		<path style="stroke-width:0.729" d="m 11.298326,5.191792 -10e-7,-4.39315704 a 0.27932072,0.27932072 0 0 1 0.458086,-0.214519 L 14.393193,2.780699 a 0.27932072,0.27932072 0 0 1 2e-6,0.429033 l -2.636785,2.19658 a 0.27932072,0.27932072 0 0 1 -0.458084,-0.21452 z" />
		<path style="fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;stroke-dashoffset:89.339;stroke-dasharray:none" d="M 12.5,2.9179688 C 12.333705,2.9010187 12.166975,2.8886442 12,2.8808594 6.9635919,2.8807514 2.8807499,6.9635934 2.8808594,12 c 0.00661,2.530252 1.064217,4.944009 2.9199218,6.664062" />
		<path style="fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;stroke-dashoffset:89.339;stroke-dasharray:none" d="m 11.458261,21.082031 c 0.166295,0.01695 0.333025,0.02933 0.5,0.03711 C 16.994669,21.119249 21.077511,17.036407 21.077402,12 21.070802,9.469748 20.013185,7.055991 18.15748,5.335938" />
	</g>
</svg>
`;var Qn=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
	<circle class="path circle" fill="none" stroke="currentColor" stroke-width="1.93833" stroke-miterlimit="10" cx="12.000002" cy="12.000002" r="10.030837" />
	<polyline class="path check" fill="none" stroke="currentColor" stroke-width="12" stroke-linecap="round" stroke-miterlimit="10" points="100.2,40.2 51.5,88.8 29.8,67.5 " transform="matrix(0.18,0,0,0.18,-0.284,0.544)" />
</svg>
`;var eo=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
	<circle class="path circle" fill="none" stroke="currentColor" stroke-width="1.93833" stroke-miterlimit="10" cx="12.000002" cy="12.000002" r="10.030837" />
	<line class="path line" fill="none" stroke="currentColor" stroke-width="2.12533" stroke-linecap="round" stroke-miterlimit="10" x1="6.562665" y1="7.1626649" x2="17.437328" y2="16.79755" />
	<line class="path line" fill="none" stroke="currentColor" stroke-width="2.12534" stroke-linecap="round" stroke-miterlimit="10" x1="17.437338" y1="7.1626701" x2="6.5626698" y2="16.762127" />
</svg>
`;var Ml="__all__",Il="_collection_errors_",Pl="_marked_for_removal_",io=document.createElement("style");io.innerText=Zn;document.head.appendChild(io);var or=class{constructor(e){this.value=e}},ir=class extends Map{constructor(e){super();let r=e.element.querySelector('meta[name="error-messages"]');if(!r)throw new Error(`<div role="group"> for '${e.name}' requires one <meta name="error-messages"> tag.`);for(let n of r.getAttributeNames()){let i=n.replace(/([_][a-z])/g,s=>s.toUpperCase().replace("_","")),o=r.getAttribute(n);o&&this.set(i,o)}}},ar=class{constructor(e,r){this.form=e,this.element=r,this.errorPlaceholder=r.querySelector(".dj-errorlist > .dj-placeholder"),this.errorMessages=new ir(this);let n=r.classList.contains("dj-required-any"),i=g=>g instanceof HTMLInputElement&&g.name&&g.form===e.element&&g.type!=="hidden",o=Array.from(r.getElementsByTagName("INPUT")).filter(i);for(let g of o)switch(g.type){case"checkbox":case"radio":g.addEventListener("input",()=>{this.touch(),this.inputted()}),g.addEventListener("change",()=>{n?this.validateCheckboxSelectMultiple():this.validate()});break;case"file":this.fileUploader=new yt(this,g);break;default:g.addEventListener("focus",()=>this.touch()),g.addEventListener("input",()=>this.inputted()),g.addEventListener("blur",()=>this.validate());break}this.fieldElements=Array(0).concat(o);let s=g=>g instanceof HTMLSelectElement&&g.name&&g.form===e.element,d=Array.from(r.getElementsByTagName("SELECT")).filter(s).at(0);d instanceof HTMLSelectElement&&(d.addEventListener("focus",()=>this.touch()),d.addEventListener("change",()=>{this.setDirty(),this.clearCustomError(),this.validate()}),this.fieldElements.push(d));let f=g=>g instanceof HTMLTextAreaElement&&g.name&&g.form===e.element,c=Array.from(r.getElementsByTagName("TEXTAREA")).filter(f).at(0);c instanceof HTMLTextAreaElement&&(c.addEventListener("focus",()=>this.touch()),c.addEventListener("input",()=>this.inputted()),c.addEventListener("blur",()=>this.validate()),this.fieldElements.push(c)),this.name=this.assertUniqueName(),this.initialDisabled=this.fieldElements.map(g=>g.disabled),this.initialRequired=this.fieldElements.map(g=>g.required),n?this.validateCheckboxSelectMultiple():this.validateBoundField(),this.pristineValue=new or(this.aggregateValue()),this.updateVisibility=this.evalVisibility("df-show",!0)??this.evalVisibility("df-hide",!1)??function(){},this.updateDisabled=this.evalDisable(),this.untouch(),this.setPristine()}aggregateValue(){var e,r;if(this.fieldElements.length===1){let n=this.fieldElements[0];if(n.type==="checkbox")return n.checked?n.value:"";if(n.type==="select-multiple"){let i=n;return Array.from(i.selectedOptions).map(o=>o.value)}return n.type==="file"?this.fileUploader.uploadedFiles:n instanceof HTMLInputElement&&window.customElements.get("django-datepicker")&&n.getAttribute("is")==="django-datepicker"?((e=n.valueAsDate)==null?void 0:e.toISOString().slice(0,10))??"":n instanceof HTMLInputElement&&window.customElements.get("django-datetimepicker")&&n.getAttribute("is")==="django-datetimepicker"?((r=n.valueAsDate)==null?void 0:r.toISOString().replace("T"," ").slice(0,16))??"":n.value}else{let n=[];for(let i of this.fieldElements)if(i.type==="checkbox")i.checked&&n.push(i.value);else if(i.type==="radio"&&i.checked)return i.value;return n}}updateOperability(){this.updateVisibility(),this.updateDisabled()}disableRequiredConstraint(){this.fieldElements.forEach(e=>e.required=!1)}restoreRequiredConstraint(){this.fieldElements.forEach((e,r)=>e.required=this.initialRequired[r])}assertUniqueName(){let e="__undefined__";for(let r of this.fieldElements)if(e==="__undefined__")e=r.name;else if(e!==r.name)throw new Error(`Duplicate name '${e}' on multiple input fields on '${r.name}'`);return e}evalVisibility(e,r){var o;function n(s){return Array.isArray(s)?s.length!==0:!!s}let i=(o=this.fieldElements[0])==null?void 0:o.getAttribute(e);if(typeof i!="string")return null;try{let s=new Function("return "+ke(i,{startRule:"Expression"}));return()=>{let d=r!=n(s.call(this));this.element.hasAttribute("hidden")!==d&&(this.fieldElements.forEach((f,c)=>f.disabled=d||this.initialDisabled[c]),this.element.toggleAttribute("hidden",d))}}catch(s){throw new Error(`Error while parsing <... df-show/hide="${i}">: ${s}.`)}}evalDisable(){var r;let e=(r=this.fieldElements[0])==null?void 0:r.getAttribute("df-disable");if(typeof e!="string")return()=>{};try{let n=new Function("return "+ke(e,{startRule:"Expression"}));return()=>{let i=n.call(this);this.fieldElements.forEach((o,s)=>o.disabled=i||this.initialDisabled[s])}}catch(n){throw new Error(`Error while parsing <... df-disable="${e}">: ${n}.`)}}getDataValue(e){return this.form.getDataValue(e)}inputted(){(0,ro.default)(this.pristineValue,this.aggregateValue())?this.setPristine():this.setDirty(),this.clearCustomError(),this.form.restoreRequiredConstraints()}clearCustomError(){this.form.clearCustomErrors(),this.errorPlaceholder&&(this.errorPlaceholder.innerHTML="");for(let e of this.fieldElements)e.validity.customError&&e.setCustomValidity("")}resetToInitial(){var e;(e=this.fileUploader)==null||e.resetToInitial(),this.untouch(),this.setPristine(),this.clearCustomError()}disableAllFields(){this.fieldElements.forEach(e=>e.disabled=!0)}reenableAllFields(){this.fieldElements.forEach((e,r)=>e.disabled=this.initialDisabled[r])}touch(){this.element.classList.remove("dj-untouched","dj-validated"),this.element.classList.add("dj-touched")}untouch(){this.element.classList.remove("dj-submitted","dj-touched"),this.element.classList.add("dj-untouched")}setDirty(){this.element.classList.remove("dj-submitted","dj-pristine"),this.element.classList.add("dj-dirty")}setPristine(){this.element.classList.remove("dj-dirty"),this.element.classList.add("dj-pristine")}isPristine(){return this.element.classList.contains("dj-pristine")}setSubmitted(){this.element.classList.add("dj-submitted")}validate(){let e=null;for(e of this.fieldElements)if(!e.validity.valid)break;if(e&&!e.validity.valid){for(let[r,n]of this.errorMessages)if(e.validity[r]){this.form.formset.showFeedbackMessages&&this.errorPlaceholder&&(this.errorPlaceholder.innerHTML=n),e=null;break}this.form.formset.showFeedbackMessages&&e instanceof HTMLInputElement&&this.validateInput(e)}this.form.validate()}validateCheckboxSelectMultiple(){let e=!1;for(let r of this.fieldElements){if(r.type!=="checkbox")throw new Error("Expected input element of type 'checkbox'.");r.checked?e=!0:r.setCustomValidity(this.errorMessages.get("customError")??"")}if(e)for(let r of this.fieldElements)r.setCustomValidity("");else this.pristineValue!==void 0&&this.errorPlaceholder&&this.form.formset.showFeedbackMessages&&(this.errorPlaceholder.innerHTML=this.errorMessages.get("customError")??"");return this.form.validate(),e}validateInput(e){if(e.type==="text"&&e.value){if(e.minLength>0&&e.value.length<e.minLength)return this.errorPlaceholder&&(this.errorPlaceholder.innerHTML=this.errorMessages.get("tooShort")??""),!1;if(e.maxLength>0&&e.value.length>e.maxLength)return this.errorPlaceholder&&(this.errorPlaceholder.innerHTML=this.errorMessages.get("tooLong")??""),!1}return e.type==="file"&&this.fileUploader.inProgress()?(this.errorPlaceholder&&(this.errorPlaceholder.innerHTML=this.errorMessages.get("typeMismatch")??""),!1):!0}validateBoundField(){if(this.fieldElements.length!==1||!(this.fieldElements[0]instanceof HTMLInputElement))return;let e=this.fieldElements[0];if(e.value&&e.type==="text"){if(e.minLength>0&&e.value.length<e.minLength)return e.setCustomValidity(this.errorMessages.get("tooShort")??"");if(e.maxLength>0&&e.value.length>e.maxLength)return e.setCustomValidity(this.errorMessages.get("tooLong")??"")}}setValidationError(){let e;for(e of this.fieldElements)if(!e.validity.valid)break;for(let[r,n]of this.errorMessages)if(e&&e.validity[r])return this.errorPlaceholder&&(this.errorPlaceholder.innerHTML=n,e.setCustomValidity(n)),!1;return e instanceof HTMLInputElement?this.validateInput(e):!0}reportCustomError(e){this.errorPlaceholder&&(this.errorPlaceholder.innerHTML=e),this.fieldElements[0].setCustomValidity(e)}reportFailedUpload(){this.errorPlaceholder&&(this.errorPlaceholder.innerHTML=this.errorMessages.get("badInput")??"File upload failed")}},vt=class{constructor(e,r){this.func=e,this.args=r}},sr=class{constructor(e,r){this.successActions=Array(0);this.rejectActions=Array(0);this.clicked=()=>{let e;for(let[r,n]of this.successActions.entries())e?e=e.then(n.func.apply(this,n.args)):e=n.func.apply(this,n.args)();if(e){for(let[r,n]of this.rejectActions.entries())r===0?e=e.catch(n.func.apply(this,n.args)):e=e.then(n.func.apply(this,n.args));e.finally(this.restore.apply(this))}};var n;this.formset=e,this.element=r,this.initialClass=r.getAttribute("class")??"",this.isAutoDisabled=!!JSON.parse((r.getAttribute("auto-disable")??"false").toLowerCase()),this.decoratorElement=r.querySelector(".dj-button-decorator"),this.originalDecorator=(n=this.decoratorElement)==null?void 0:n.cloneNode(!0),this.spinnerElement=document.createElement("i"),this.spinnerElement.classList.add("dj-icon","dj-spinner"),this.spinnerElement.innerHTML=Yn,this.okayElement=document.createElement("i"),this.okayElement.classList.add("dj-icon","dj-okay"),this.okayElement.innerHTML=Qn,this.bummerElement=document.createElement("i"),this.bummerElement.classList.add("dj-icon","dj-bummer"),this.bummerElement.innerHTML=eo,this.parseActionsQueue(r.getAttribute("df-click")),r.addEventListener("click",this.clicked)}autoDisable(e){this.isAutoDisabled&&(this.element.disabled=!e)}disable(){return e=>(this.element.disabled=!0,Promise.resolve(e))}enable(){return e=>(this.element.disabled=!1,Promise.resolve(e))}submit(e){return()=>new Promise((r,n)=>{this.formset.submit(e).then(i=>i instanceof Response&&i.status===200?r(i):n(i))})}reset(){return e=>(this.formset.resetToInitial(),Promise.resolve(e))}reload(e){return r=>(e?location.reload():location.replace(window.location.pathname),Promise.resolve(r))}proceed(e){return async r=>{if(typeof e=="string"&&e.length>0)location.href=e;else if(r instanceof Response&&r.status===200){let n=await r.clone().json();n.success_url?location.href=n.success_url:console.warn("Neither a success-, nor a proceed-URL are given.")}return Promise.resolve(r)}}delay(e){return r=>new Promise(n=>this.timeoutHandler=window.setTimeout(()=>{this.timeoutHandler=void 0,n(r)},e))}spinner(){return e=>{var r;return(r=this.decoratorElement)==null||r.replaceChildren(this.spinnerElement),Promise.resolve(e)}}okay(e){return this.decorate(this.okayElement,e)}bummer(e){return this.decorate(this.bummerElement,e)}addClass(e){return r=>(this.element.classList.add(e),Promise.resolve(r))}removeClass(e){return r=>(this.element.classList.remove(e),Promise.resolve(r))}toggleClass(e){return r=>(this.element.classList.toggle(e),Promise.resolve(r))}emit(e,r){return n=>{let i={bubbles:!0,cancelable:!0};return r!==void 0?(Object.assign(i,{detail:r}),this.element.dispatchEvent(new CustomEvent(e,i))):this.element.dispatchEvent(new Event(e,i)),Promise.resolve(n)}}intercept(e){return async r=>{let n={request:this.formset.buildBody(),response:await r.clone().json()},i=e?document.querySelector(e):null;return i?i.innerHTML=JSON.stringify(n,null,"  "):console.info(n),Promise.resolve(r)}}clearErrors(){return e=>(this.formset.clearErrors(),Promise.resolve(e))}scrollToError(){return e=>{let r=this.formset.findFirstErrorReport();return r&&r.scrollIntoView({behavior:"smooth"}),Promise.resolve(e)}}confirm(e){if(typeof e!="string")throw new Error("The confirm() action requires a message.");return r=>window.confirm(e)?Promise.resolve(r):Promise.reject({})}alertOnError(){return e=>(e.status!==422&&window.alert(e.statusText),Promise.resolve(e))}noop(){return e=>Promise.resolve(e)}restore(){return()=>window.setTimeout(()=>this.restoreToInitial())}decorate(e,r){return n=>{var i;return(i=this.decoratorElement)==null||i.replaceChildren(e),typeof r!="number"?Promise.resolve(n):new Promise(o=>this.timeoutHandler=window.setTimeout(()=>{this.timeoutHandler=void 0,o(n)},r))}}parseActionsQueue(e){if(!e)return;let r=(n,i)=>{for(let o of i){let s=this[o.funcname];if(typeof s!="function")throw new Error(`Unknown function '${o.funcname}'.`);n.push(new vt(s,o.args))}n.length===0&&n.push(new vt(this.noop,[]))};try{let n=ke(e,{startRule:"Actions"});r(this.successActions,n.successChain),r(this.rejectActions,n.rejectChain)}catch(n){throw new Error(`Error while parsing <button df-click="${e}">: ${n}.`)}}restoreToInitial(){var e;this.element.disabled=!1,this.element.setAttribute("class",this.initialClass),this.originalDecorator&&((e=this.decoratorElement)==null||e.replaceChildren(...this.originalDecorator.cloneNode(!0).childNodes))}abortAction(){this.timeoutHandler&&(clearTimeout(this.timeoutHandler),this.timeoutHandler=void 0)}},lr=class{constructor(e,r){this.form=e,this.element=r,this.updateVisibility=this.evalVisibility("df-show",!0)??this.evalVisibility("df-hide",!1)??function(){},this.updateDisabled=this.evalDisable()}evalVisibility(e,r){let n=this.element.getAttribute(e);if(n===null)return null;try{let i=new Function("return "+ke(n,{startRule:"Expression"}));return()=>{let o=r!=!!i.call(this);this.element.hasAttribute("hidden")!==o&&this.element.toggleAttribute("hidden",o)}}catch(i){throw new Error(`Error while parsing <fieldset df-show/hide="${n}">: ${i}.`)}}evalDisable(){let e=this.element.getAttribute("df-disable");if(typeof e!="string")return()=>{};try{let r=new Function("return "+ke(e,{startRule:"Expression"}));return()=>this.element.disabled=r.call(this)}catch(r){throw new Error(`Error while parsing <fieldset df-disable="${e}">: ${r}.`)}}getDataValue(e){return this.form.getDataValue(e)}updateOperability(){this.updateVisibility(),this.updateDisabled()}},dr=class{constructor(e,r){this.errorList=null;this.errorPlaceholder=null;this.fieldGroups=Array(0);this.hiddenInputFields=Array(0);this.markedForRemoval=!1;this.handleSubmit=e=>{e.target instanceof HTMLFormElement&&e.target.method==="dialog"||e.preventDefault()};this.handleReset=()=>{for(let e of this.fieldGroups)e.resetToInitial()};var o,s;this.formset=e,this.element=r,this.path=((o=this.name)==null?void 0:o.split("."))??[];let n=r.nextSibling;this.fieldset=n instanceof HTMLFieldSetElement&&n.form===r?new lr(this,n):null;let i=(s=r.nextElementSibling)==null?void 0:s.querySelector(".dj-form-errors > .dj-errorlist > .dj-placeholder");i&&(this.errorList=i.parentElement,this.errorPlaceholder=this.errorList.removeChild(i)),this.element.addEventListener("submit",this.handleSubmit),this.element.addEventListener("reset",this.handleReset)}aggregateValues(){let e=new Map;for(let r of this.fieldGroups)e.set(r.name,r.aggregateValue());for(let r of this.hiddenInputFields.filter(n=>n.type==="hidden"))e.set(r.name,r.value);return e}get name(){return this.element.getAttribute("name")}get formId(){return this.element.getAttribute("id")}get provideData(){return this.element.method!=="dialog"}getAbsPath(){return["formset_data",...this.path]}getDataValue(e){if(e[0]!=="")return this.formset.getDataValue(e);let r=[...this.path],n=e.filter(o=>o!==""),i=e.length-n.length;return r.splice(r.length-i+1),r.push(...n),this.formset.getDataValue(r)}updateOperability(){var e;(e=this.fieldset)==null||e.updateOperability(),this.fieldGroups.forEach(r=>r.updateOperability())}setSubmitted(){this.fieldGroups.forEach(e=>e.setSubmitted())}validate(){this.formset.validate()}isValid(){if(this.element.noValidate||!this.provideData)return!0;let e=!0;for(let r of this.fieldGroups)e=r.setValidationError()&&e;return e}checkValidity(){return this.element.noValidate||!this.provideData?!0:this.element.checkValidity()}reportValidity(){this.element.noValidate||!this.provideData||this.element.reportValidity()}clearCustomErrors(){for(;this.errorList&&this.errorList.lastChild;)this.errorList.removeChild(this.errorList.lastChild)}resetToInitial(){this.element.reset()}toggleForRemoval(e){this.markedForRemoval=e;for(let r of this.fieldGroups)e?(r.resetToInitial(),r.disableAllFields()):r.reenableAllFields()}reportCustomErrors(e){this.clearCustomErrors();let r=e.get(Ml);if(this.errorList&&r instanceof Array&&this.errorPlaceholder)for(let n of r){let i=this.errorPlaceholder.cloneNode();i.innerHTML=n,this.errorList.appendChild(i)}for(let n of this.fieldGroups){let i=e.get(n.name);i instanceof Array&&i.length>0&&n.reportCustomError(i[0])}}findFirstErrorReport(){var e,r;if((e=this.errorList)!=null&&e.textContent)return this.element;for(let n of this.fieldGroups)if((r=n.errorPlaceholder)!=null&&r.textContent)return n.element;return null}isPristine(){return this.fieldGroups.every(e=>e.isPristine())}disableRequiredConstraints(){this.fieldGroups.forEach(e=>e.disableRequiredConstraint())}restoreRequiredConstraints(){this.fieldGroups.forEach(e=>e.restoreRequiredConstraint())}},J=class{constructor(e,r,n){this.forms=Array(0);this.children=Array(0);this.markedForRemoval=!1;this.formset=e,this.element=r,this.parent=n,this.findFormCollections()}findFormCollections(){for(let e of J.getChildCollections(this.element))this.children.push(e.hasAttribute("sibling-position")?new z(this.formset,e,this):new J(this.formset,e,this));for(let e of this.children)e.updateRemoveButtonAttrs();this.formCollectionTemplate=Ce.findFormCollectionTemplate(this.formset,this.element,this)}assignForms(e){this.forms=e.filter(r=>{var n;return(n=r.element.parentElement)==null?void 0:n.isEqualNode(this.element)});for(let r of this.children)r.assignForms(e)}updateRemoveButtonAttrs(){}disconnect(){var e;this.forms.forEach(r=>this.formset.removeForm(r)),this.children.forEach(r=>r.disconnect()),(e=this.formCollectionTemplate)==null||e.disconnect(),this.element.remove()}toggleForRemoval(e){this.markedForRemoval=e;for(let r of this.forms)r.toggleForRemoval(e);for(let r of this.children)r.toggleForRemoval(e);this.formCollectionTemplate&&(this.formCollectionTemplate.markedForRemoval=e,this.formCollectionTemplate.updateAddButtonAttrs()),this.element.classList.toggle("dj-marked-for-removal",this.markedForRemoval)}resetToInitial(){if(this.toggleForRemoval(!1),J.resetCollectionsToInitial(this.children),this.formCollectionTemplate){let e=this.formCollectionTemplate.prefix,r=e==="0"?0:e.split(".").length;this.children.forEach((n,i)=>n.repositionForms(r,i)),this.formCollectionTemplate.updateAddButtonAttrs()}return!1}repositionSiblings(){}repositionForms(e,r){this.forms.forEach(n=>{n.path[e]=String(r),n.element.setAttribute("name",n.path.join("."))}),this.children.forEach(n=>n.repositionForms(e,r))}markAsFreshAndEmpty(e){this.children.forEach(r=>r.markAsFreshAndEmpty(e)),e&&this.forms.forEach(r=>r.disableRequiredConstraints())}restoreRequiredConstraint(){this.forms.forEach(e=>e.restoreRequiredConstraints()),this.children.forEach(e=>e.restoreRequiredConstraint())}isFreshAndEmpty(){return this.forms.every(e=>e.isPristine())&&this.children.every(e=>e.isFreshAndEmpty())}removeFreshAndEmpty(){Array.from(this.children).reverse().forEach(r=>r.removeFreshAndEmpty())}static getChildCollections(e){var n;let r=(n=e.querySelector("django-form-collection"))==null?void 0:n.parentElement;return r?r.querySelectorAll(":scope > django-form-collection"):[]}static resetCollectionsToInitial(e){var i;let r=Array(0);for(let o of e)o.resetToInitial()&&r.push(o);r.forEach(o=>e.splice(e.indexOf(o),1)),e.sort((o,s)=>o instanceof z&&s instanceof z?o.initialPosition-s.initialPosition:0);let n=null;for(let o of e)o instanceof z&&(o.initialPosition===0?(i=o.element.parentElement)==null||i.insertAdjacentElement("afterbegin",o.element):n==null||n.insertAdjacentElement("afterend",o.element),n=o.element);e.forEach(o=>o.repositionSiblings())}},z=class extends J{constructor(r,n,i){super(r,n,i);this.minSiblings=0;this.maxSiblings=null;this.justAdded=!1;this.removeCollection=()=>{var i,o;let r=((i=this.parent)==null?void 0:i.children)??this.formset.formCollections;this.justAdded?(this.disconnect(),r.splice(r.indexOf(this),1),this.repositionSiblings()):(this.toggleForRemoval(!this.markedForRemoval),this.removeButton.disabled=!this.markedForRemoval),r.forEach(s=>s.updateRemoveButtonAttrs()),(((o=this.parent)==null?void 0:o.formCollectionTemplate)??this.formset.formCollectionTemplate).updateAddButtonAttrs()};let o=n.getAttribute("sibling-position");if(!o)throw new Error("Missing argument 'sibling-position' in <django-form-collection>");this.position=this.initialPosition=parseInt(o);let s=n.getAttribute("min-siblings");if(!s)throw new Error("Missing argument 'min-siblings' in <django-form-collection>");this.minSiblings=parseInt(s);let d=n.getAttribute("max-siblings");d&&(this.maxSiblings=parseInt(d));let f=n.querySelector(":scope > button.remove-collection");if(!f)throw new Error('<django-form-collection> with siblings requires child element <button class="remove-collection">');this.removeButton=f,this.removeButton.addEventListener("click",this.removeCollection)}disconnect(){this.removeButton.removeEventListener("click",this.removeCollection),super.disconnect()}repositionSiblings(){var n;(((n=this.parent)==null?void 0:n.children)??this.formset.formCollections).forEach((i,o)=>{i instanceof z&&(i.position=o,i.element.setAttribute("sibling-position",String(o)))})}updateRemoveButtonAttrs(){var i;if(!this.removeButton)return;let n=(((i=this.parent)==null?void 0:i.children)??this.formset.formCollections).filter(o=>!o.markedForRemoval).length;this.markedForRemoval?this.maxSiblings?this.removeButton.disabled=n>=this.maxSiblings:this.removeButton.disabled=!1:this.removeButton.disabled=n<=this.minSiblings}markAsFreshAndEmpty(r){this.justAdded=r||this.element.hasAttribute("fresh-and-empty"),super.markAsFreshAndEmpty(this.justAdded)}isFreshAndEmpty(){return this.justAdded&&super.isFreshAndEmpty()}removeFreshAndEmpty(){!this.removeButton.disabled&&this.isFreshAndEmpty()?this.removeCollection():super.removeFreshAndEmpty()}resetToInitial(){return this.justAdded?(this.disconnect(),!0):(super.resetToInitial(),!1)}},Ce=class{constructor(e,r,n){this.maxSiblings=null;this.baseContext=new Map;this.markedForRemoval=!1;this.resortSiblings=e=>{var o;let r=e.oldDraggableIndex??NaN,n=e.newDraggableIndex??NaN;if(!isFinite(r)||!isFinite(n)||r===n)return;let i=((o=this.parent)==null?void 0:o.children)??this.formset.formCollections;if(i.at(r)instanceof z){let s=i.splice(r,1);i.splice(n,0,...s),s.at(0).repositionSiblings();let d=this.prefix==="0"?0:this.prefix.split(".").length;i.forEach((f,c)=>f.repositionForms(d,c)),this.formset.validate()}};this.appendFormCollectionSibling=()=>{var s;let e=Object.fromEntries(this.baseContext);e.position=(this.getHighestPosition()+1).toString(),e.position_1="${position}";for(let d=1;d<10;++d)e[`position_${d+1}`]=`\${position_${d}}`;let r=this.renderEmptyCollection(e);this.element.insertAdjacentHTML("beforebegin",r);let n=this.element.previousElementSibling;if(!(n instanceof HTMLElement))throw new Error("Unable to insert empty <django-form-collection> element.");let i=((s=this.parent)==null?void 0:s.children)??this.formset.formCollections,o=new z(this.formset,n,this.parent);i.push(o),this.formset.findForms(n),this.formset.assignFieldsToForms(n),this.formset.assignFormsToCollections(),this.formset.findCollectionErrorsList(),o.markAsFreshAndEmpty(!0),this.formset.validate(),i.forEach(d=>d.updateRemoveButtonAttrs()),this.updateAddButtonAttrs()};var f;this.formset=e,this.element=r,this.parent=n;let i=r.innerHTML.matchAll(/\$\{([^} ]+)\}/g);for(let c of i)this.baseContext.set(c[1],c[0]);let o=r.getAttribute("prefix");if(!o)throw new Error('<template class="empty-collection" ...> requires attribute "prefix"');this.prefix=o,e.pushTemplatePrefix(this.prefix),this.renderEmptyCollection=(0,oo.default)(r.innerHTML),(f=r.nextElementSibling)!=null&&f.matches("button.add-collection")&&(this.addButton=r.nextElementSibling,this.addButton.addEventListener("click",this.appendFormCollectionSibling));let s=this.element.content.querySelector("django-form-collection"),d=s==null?void 0:s.getAttribute("max-siblings");d&&(this.maxSiblings=parseInt(d)),r.hasAttribute("sortable")&&new Ar(r.parentElement,{animation:150,handle:"django-form-collection[sibling-position]:not(.dj-marked-for-removal) > .collection-drag-handle",draggable:"django-form-collection[sibling-position]",selectedClass:"selected",ghostClass:"dj-ghost-collection",onEnd:this.resortSiblings})}getHighestPosition(){let e=-1,r=this.parent?this.parent.children:this.formset.formCollections;for(let n of r.filter(i=>i instanceof z))e=Math.max(e,n.position);return e}disconnect(){var e;this.formset.popTemplatePrefix(this.prefix),(e=this.addButton)==null||e.removeEventListener("click",this.appendFormCollectionSibling)}updateAddButtonAttrs(){var n;if(!this.addButton)return;if(this.markedForRemoval){this.addButton.disabled=!0;return}let r=(((n=this.parent)==null?void 0:n.children)??this.formset.formCollections).filter(i=>!i.markedForRemoval).length;this.addButton.disabled=this.maxSiblings===null?!1:r>=this.maxSiblings}static findFormCollectionTemplate(e,r,n){let i=r.querySelector(":scope > .collection-siblings > template.empty-collection");if(i){let o=new Ce(e,i,n);return o.updateAddButtonAttrs(),o}}},cr=class{constructor(e){this.buttons=Array(0);this.forms=Array(0);this.formCollections=Array(0);this.collectionErrorsList=new Map;this.abortController=new AbortController;this.emptyCollectionPrefixes=Array(0);this.data={};this.element=e,this.showFeedbackMessages=this.parseWithholdFeedback(),this.CSRFToken=this.element.getAttribute("csrf-token")}connectedCallback(){this.findButtons(),this.findForms(),this.findFormCollections(),this.findCollectionErrorsList(),this.assignFieldsToForms(),this.assignFormsToCollections(),this.formCollections.forEach(e=>e.markAsFreshAndEmpty()),window.setTimeout(()=>this.validate(),0)}get endpoint(){return this.element.getAttribute("endpoint")??""}get forceSubmission(){return this.element.hasAttribute("force-submission")}parseWithholdFeedback(){var i;let e=!0,r=((i=this.element.getAttribute("withhold-feedback"))==null?void 0:i.split(" "))??[],n=new Set(["dj-feedback-errors","dj-feedback-warnings","dj-feedback-success"]);for(let o of r)switch(o.toLowerCase()){case"messages":e=!1;break;case"errors":n.delete("dj-feedback-errors");break;case"warnings":n.delete("dj-feedback-warnings");break;case"success":n.delete("dj-feedback-success");break;default:throw new Error(`Unknown value in <django-formset withhold-feedback="${o}">.`)}return n.forEach(o=>this.element.classList.add(o)),e}pushTemplatePrefix(e){this.emptyCollectionPrefixes.push(e)}popTemplatePrefix(e){let r=this.emptyCollectionPrefixes.indexOf(e);r>=0&&this.emptyCollectionPrefixes.splice(r,1)}assignFieldsToForms(e){e=e??this.element;for(let r of e.querySelectorAll("INPUT, SELECT, TEXTAREA")){let n=r.getAttribute("form");if(!n)continue;let i=this.forms.filter(d=>d.formId&&d.formId===n);if(i.length<1)continue;if(i.length>1)throw new Error(`More than one form has id="${n}"`);let o=i[0],s=r.closest('[role="group"]');s?o.fieldGroups.filter(d=>d.element===s).length===0&&o.fieldGroups.push(new ar(o,s)):r instanceof HTMLInputElement&&r.type==="hidden"&&(o.hiddenInputFields.includes(r)||o.hiddenInputFields.push(r))}}findForms(e){e=e??this.element;for(let r of e.getElementsByTagName("FORM")){let n=new dr(this,r);this.forms.push(n)}this.checkForUniqueness()}checkForUniqueness(){let e=this.forms.filter(n=>n.provideData);if(e.length===1)return;let r=Array();e.forEach(n=>{if(!n.name)throw new Error("Multiple <form>-elements in a <django-formset> require a unique name each.");if(n.name in r)throw new Error(`Duplicate name "${n.name}" used in multiple forms of same <django-formset>.`);r.push(n.name)})}findFormCollections(){for(let e of J.getChildCollections(this.element))this.formCollections.push(e.hasAttribute("sibling-position")?new z(this,e):new J(this,e));this.formCollections.forEach(e=>e.updateRemoveButtonAttrs()),this.formCollectionTemplate=Ce.findFormCollectionTemplate(this,this.element)}findCollectionErrorsList(){this.collectionErrorsList.clear();for(let e of this.element.getElementsByClassName("dj-collection-errors")){let r=e.getAttribute("prefix")??"",n=e.querySelector("ul.dj-errorlist");this.collectionErrorsList.set(r,n)}}findButtons(){this.buttons.length=0;for(let e of this.element.getElementsByTagName("BUTTON"))e.hasAttribute("df-click")&&this.buttons.push(new sr(this,e))}assignFormsToCollections(){this.formCollections.forEach(e=>e.assignForms(this.forms))}removeForm(e){this.forms.splice(this.forms.indexOf(e),1)}removeFreshCollections(){Array.from(this.formCollections).reverse().forEach(r=>r.removeFreshAndEmpty())}aggregateValues(){this.data={};for(let e of this.forms)e.provideData&&(0,to.default)(this.data,e.getAbsPath(),Object.fromEntries(e.aggregateValues()));for(let e of this.forms)e.markedForRemoval||e.updateOperability()}validate(){let e=!0;for(let r of this.forms)e=(r.markedForRemoval||r.checkValidity())&&e;for(let r of this.buttons)r.autoDisable(e);return this.aggregateValues(),e}buildBody(e){let r;function n(o,s){if(s.length===1){Array.isArray(o)?r&&!o.includes(r)&&o.push(r):o[s[0]]=r??[];return}if(isNaN(parseInt(s[1]))){let d=o[s[0]]??{};n(d,s.slice(1));let f=parseInt(s[0]);isNaN(f)?o[s[0]]=d:o[f]={...o[f],...d}}else{if(Array.isArray(o))throw new Error("Invalid form structure: Contains nested arrays.");let d=o[s[0]]??[];if(!Array.isArray(d))throw new Error("Invalid form structure: Inner array is missing.");n(d,s.slice(1)),o[s[0]]=d}}let i={};for(let o of this.emptyCollectionPrefixes){let s=["formset_data",...o.split(".")];r=(0,Te.default)(i,s),n(i,s)}for(let o of this.forms){if(!o.name)return Object.assign({},this.data,{_extra:e});let s=o.getAbsPath();r=(0,Te.default)(this.data,s),o.markedForRemoval&&(r[Pl]=!0),n(i,s)}return Object.assign({},i,{_extra:e})}async submit(e){let r=!0;if(this.setSubmitted(),!this.forceSubmission)for(let n of this.forms)r=(n.markedForRemoval||n.isValid())&&r;if(r){if(!this.endpoint)throw new Error(`<django-formset> requires attribute 'endpoint="server endpoint"' for submission`);this.removeFreshCollections();let n=this.buildBody(e);try{let i=new Headers;i.append("Accept","application/json"),i.append("Content-Type","application/json"),this.CSRFToken&&i.append("X-CSRFToken",this.CSRFToken);let o=await fetch(this.endpoint,{method:"POST",headers:i,body:JSON.stringify(n),signal:this.abortController.signal});switch(o.status){case 200:this.clearErrors();for(let d of this.forms)d.element.dispatchEvent(new Event("submitted"));return o;case 422:this.clearErrors();let s=await o.clone().json();return this.reportErrors(s),o;default:return console.warn(`Unknown response status: ${o.status}`),this.clearErrors(),this.buttons.forEach(d=>d.restoreToInitial()),o}}catch(i){this.clearErrors(),this.buttons.forEach(o=>o.restoreToInitial()),alert(i)}}else{this.clearErrors();for(let n of this.forms)n.reportValidity()}}reportErrors(e){for(let r of this.forms){let n=r.name?(0,Te.default)(e,r.name.split("."),null):e;(0,no.default)(n)?r.clearCustomErrors():(r.reportCustomErrors(new Map(Object.entries(n))),r.reportValidity())}for(let[r,n]of this.collectionErrorsList){let i=r?r.split("."):[];i=[...i,"0",Il];for(let o of(0,Te.default)(e,i,[])){let s=document.createElement("li");s.classList.add("dj-placeholder"),s.innerText=o,n.appendChild(s)}}}resetToInitial(){var e;J.resetCollectionsToInitial(this.formCollections),(e=this.formCollectionTemplate)==null||e.updateAddButtonAttrs(),this.forms.forEach(r=>r.resetToInitial()),this.validate()}abort(){for(let e of this.buttons)e.abortAction();this.abortController.abort()}setSubmitted(){for(let e of this.forms)e.setSubmitted()}getDataValue(e){let r=["formset_data",...e];return(0,Te.default)(this.data,r,null)}findFirstErrorReport(){for(let e of this.forms){let r=e.findFirstErrorReport();if(r)return r}return null}clearErrors(){for(let e of this.forms)e.clearCustomErrors();for(let e of this.collectionErrorsList.values())for(;e.firstElementChild;)e.removeChild(e.firstElementChild)}},Ae=Symbol("DjangoFormset"),jt=class extends HTMLElement{constructor(){super();this[Ae]=new cr(this)}static get observedAttributes(){return["endpoint","withhold-feedback","force-submission"]}connectedCallback(){this[Ae].connectedCallback()}async submit(r){return this[Ae].submit(r)}async abort(){return this[Ae].abort()}async reset(){return this[Ae].resetToInitial()}};Ae;window.addEventListener("DOMContentLoaded",t=>{let e=Tr.convertPseudoClasses(),r=Array();function n(s,d,f,c=void 0){customElements.get(d)instanceof Function?s():(window.customElements.define(d,f,c),window.customElements.whenDefined(d).then(()=>s()))}function i(s){s.querySelector('select[is="django-selectize"]')&&r.push(new Promise((d,f)=>{import("./DjangoSelectize-D6EQHENG.js").then(({DjangoSelectizeElement:c})=>{n(d,"django-selectize",c,{extends:"select"})}).catch(c=>f(c))})),s.querySelector("django-sortable-select")?r.push(new Promise((d,f)=>{import("./SortableSelect-HO3LDNYI.js").then(({SortableSelectElement:c})=>{customElements.get("django-sortable-select")instanceof Function?d():window.customElements.define("django-sortable-select",c),import("./DualSelector-RBOXLFMI.js").then(({DualSelectorElement:g})=>{customElements.get("django-dual-selector")instanceof Function?d():(window.customElements.define("django-dual-selector",g,{extends:"select"}),Promise.all([window.customElements.whenDefined("django-sortable-select"),window.customElements.whenDefined("django-dual-selector")]).then(()=>d()))}).catch(g=>f(g))}).catch(c=>f(c))})):s.querySelector('select[is="django-dual-selector"]')&&r.push(new Promise((d,f)=>{import("./DualSelector-RBOXLFMI.js").then(({DualSelectorElement:c})=>{n(d,"django-dual-selector",c,{extends:"select"})}).catch(c=>f(c))})),s.querySelector('textarea[is="django-richtext"]')&&r.push(new Promise((d,f)=>{import("./RichtextArea-3BECPIHT.js").then(({RichTextAreaElement:c})=>{n(d,"django-richtext",c,{extends:"textarea"})}).catch(c=>f(c))})),s.querySelector('input[is="django-slug"]')&&r.push(new Promise((d,f)=>{import("./DjangoSlug-226MVQ6E.js").then(({DjangoSlugElement:c})=>{n(d,"django-slug",c,{extends:"input"})}).catch(c=>f(c))})),s.querySelector('input[is="django-datepicker"]')&&r.push(new Promise((d,f)=>{import("./DateTimePicker-QJNPLAAA.js").then(({DatePickerElement:c})=>{n(d,"django-datepicker",c,{extends:"input"})}).catch(c=>f(c))})),s.querySelector('input[is="django-datetimepicker"]')&&r.push(new Promise((d,f)=>{import("./DateTimePicker-QJNPLAAA.js").then(({DateTimePickerElement:c})=>{n(d,"django-datetimepicker",c,{extends:"input"})}).catch(c=>f(c))}))}document.querySelectorAll("template.empty-collection").forEach(s=>{s instanceof HTMLTemplateElement&&s.content instanceof DocumentFragment&&i(s.content)}),i(document);let o=new Set;document.querySelectorAll("django-formset [id]").forEach(s=>{let d=s.getAttribute("id");if(o.has(d))throw new Error(`There are at least two elements with attribute id="${d}"`);o.add(d)}),Promise.all(r).then(()=>{window.customElements.define("django-formset",jt),window.customElements.whenDefined("django-formset").then(()=>{e.remove()})}).catch(s=>console.error(`Failed to initialize django-formset: ${s}`))});
/*! Bundled license information:

@ungap/custom-elements/index.js:
  (*! (c) Andrea Giammarchi @webreflection ISC *)
  (*! (c) Andrea Giammarchi - ISC *)
*/
