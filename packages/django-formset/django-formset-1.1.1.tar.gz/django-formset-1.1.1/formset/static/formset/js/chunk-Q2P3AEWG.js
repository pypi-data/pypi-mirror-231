import{a as i,b as l}from"./chunk-APVD22ED.js";import{a as r}from"./chunk-R2VNGMYE.js";var c="django-sortable-select{background-color:rgba(0,0,0,0) !important}django-sortable-select.focus{opacity:1}django-sortable-select option.sortable-selected,django-sortable-select optgroup.sortable-selected{opacity:1;cursor:grab}django-sortable-select option.sortable-chosen,django-sortable-select option.sortable-ghost,django-sortable-select optgroup.sortable-chosen,django-sortable-select optgroup.sortable-ghost{opacity:1;cursor:grabbing !important}django-sortable-select option{display:block;line-height:normal;cursor:default}django-sortable-select option.sortable-chosen,django-sortable-select option.sortable-selected{opacity:1}django-sortable-select optgroup option::before{opacity:1}";l.mount(new i);var d=class extends HTMLElement{constructor(){super();this.lastSelected=null;this.declaredStyles=document.createElement("style"),this.declaredStyles.innerText=c,document.head.appendChild(this.declaredStyles),this.addEventListener("click",e=>this.optionSelected(e)),window.addEventListener("click",e=>this.elementFocus(e))}initialize(e){this.transferStyles(e),l.create(this,{animation:150,fallbackOnBody:!0,multiDrag:!0,onEnd:t=>this.onEnd(t)}),this.querySelectorAll("optgroup").forEach(t=>{l.create(this,{animation:150,fallbackOnBody:!0,multiDrag:!0,onEnd:s=>this.onEnd(s),handle:">option",group:t.label})})}onEnd(e){this.deselectAllOptions();let t=new Event("options-sorted",{bubbles:!0,cancelable:!0,composed:!1});this.dispatchEvent(t)}elementFocus(e){e.target instanceof HTMLElement&&this.contains(e.target)?this.classList.add("focus"):this.classList.remove("focus")}optionSelected(e){if(!(e.target instanceof HTMLOptionElement))return;let t=e.target;if(e instanceof PointerEvent&&e.metaKey)(t.selected=!t.selected)?l.utils.select(t):l.utils.deselect(t);else if(e instanceof PointerEvent&&e.shiftKey&&this.lastSelected){this.deselectAllOptions();let s=!1;for(let o of this.getElementsByTagName("option"))o===t||o===this.lastSelected?(o.selected=!0,s=!s):o.selected=s,o.selected&&l.utils.select(o)}else this.deselectAllOptions(),t.selected=!0,l.utils.select(t);this.lastSelected=t,e.preventDefault()}deselectAllOptions(){for(let e of this.getElementsByTagName("option"))e.selected=!1,l.utils.deselect(e)}transferStyles(e){let t=this.declaredStyles.sheet,s=e.querySelector("option");for(let o=0;t&&o<t.cssRules.length;o++){let n=t.cssRules.item(o),a;switch(n.selectorText){case"django-sortable-select":a=r.extractStyles(e,["display","width","height","border","box-shadow","outline","overflow","font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","white-space","line-height"]),t.insertRule(`${n.selectorText}{${a}}`,++o);break;case"django-sortable-select.focus":e.style.transition="none",e.focus(),a=r.extractStyles(e,["border","box-shadow","outline"]),e.blur(),t.insertRule(`${n.selectorText}{${a}}`,++o),e.style.transition="";break;case"django-sortable-select option.sortable-chosen, django-sortable-select option.sortable-selected":s&&(s.selected=!0,a=r.extractStyles(s,["color","background-color"]),t.insertRule(`${n.selectorText}{${a}}`,++o),s.selected=!1);break;case"django-sortable-select.focus option.sortable-chosen, django-sortable-select.focus option.sortable-selected":e.focus(),s&&(s.selected=!0,a=r.extractStyles(s,["color","background-color"]),t.insertRule(`${n.selectorText}{${a}}`,++o),s.selected=!1),e.blur();break;case"django-sortable-select optgroup option::before":t.insertRule(`${n.selectorText}{content:"\\0000a0\\0000a0\\0000a0\\0000a0";}`,++o);break;default:break}}}add(e){e instanceof HTMLOptionElement?(this.appendChild(e),l.utils.select(e)):e instanceof HTMLOptGroupElement&&(this.appendChild(e),l.create(e,{animation:150,fallbackOnBody:!0,multiDrag:!0,onEnd:t=>this.onEnd(t),handle:">option"}))}},p=class extends HTMLOptGroupElement{constructor(){super();this.lastSelected=null}};export{c as a,d as b,p as c};
