<LoginScreen>:
    name: "login"

    #personal_key is a property declared in mygh.py
    # set the initial value and also is updated from this kv file
    personal_key : key
    on_pre_enter: key.focus = True

    Image:
        source:"./images/welcome.png"
        pos_hint: {'center_x': 0.5, 'center_y': 0.7}
        size_hint: 0.6, 0.6

    BoxLayout:
        id: login_box
        orientation: 'vertical'
        spacing: 10
        size_hint: 0.7, 0.2
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        

        TextInput:
            id: key
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
            size_hint: (0.5, 0.1)
            focus: True
            # hardcode the height to it better fit the font size
            multiline: False
            halign: 'center'
            hint_text: "Personal key"
            password: True
            # Check user key upon pressing enter
            on_text_validate: root.validate_credentials()

        Button:
            text : "Sign in"
            # Size factors (x,y) relative to login_box
            background_color: hexcolor('#117d96')
            size_hint: 0.5 , 0.1
            pos_hint: {'center_x': 0.5}
            on_release:
                # password (key) property is already declared
                # No need to pass them as arguments 
                # in the validation method
                root.validate_credentials()

    Image:
        source:"./images/my-gnu-health-isologo-slogan.png"
        pos_hint: {'center_x': 0.5, 'center_y': 0.08}
        size_hint: 0.2, 0.2
