import{r as c,aH as de,R as C,aa as ae,ab as xe,n as ne,D as _,y as B,as as J,p as $,z as W,X as z,I as le,s as k,P as O,aq as q,ao as fe,B as w,ap as S,J as y,aI as pe,j as n,d as D,aC as me,e as be,aJ as he,ai as ge,V as je,al as ve}from"./index-7b671d2d.js";import{d as we,f as ye,M as Ne,i as Ie,C as re}from"./context-b40758d6.js";import{s as Te}from"./popover-e41d7b42.js";import{v as V,M as Pe,P as Ee}from"./disclosure-6db3cf47.js";function $e({onFocus:e}){let[t,r]=c.useState(!0),s=de();return t?C.createElement(ae,{as:"button",type:"button",features:xe.Focusable,onFocus:l=>{l.preventDefault();let a,i=50;function d(){if(i--<=0){a&&cancelAnimationFrame(a);return}if(e()){if(cancelAnimationFrame(a),!s.current)return;r(!1);return}a=requestAnimationFrame(d)}a=requestAnimationFrame(d)}}):null}const ie=c.createContext(null);function De(){return{groups:new Map,get(e,t){var r;let s=this.groups.get(e);s||(s=new Map,this.groups.set(e,s));let l=(r=s.get(t))!=null?r:0;s.set(t,l+1);let a=Array.from(s.keys()).indexOf(t);function i(){let d=s.get(t);d>1?s.set(t,d-1):s.delete(t)}return[a,i]}}}function Se({children:e}){let t=c.useRef(De());return c.createElement(ie.Provider,{value:t},e)}function oe(e){let t=c.useContext(ie);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=Ce(),[s,l]=t.current.get(e,r);return c.useEffect(()=>l,[]),s}function Ce(){var e,t,r;let s=(r=(t=(e=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?r:null;if(!s)return Symbol();let l=[],a=s;for(;a;)l.push(a.index),a=a.return;return"$."+l.join(".")}var Fe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Fe||{}),Re=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Re||{}),Ae=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Ae||{});let Le={0(e,t){var r;let s=O(e.tabs,x=>x.current),l=O(e.panels,x=>x.current),a=s.filter(x=>{var j;return!((j=x.current)!=null&&j.hasAttribute("disabled"))}),i={...e,tabs:s,panels:l};if(t.index<0||t.index>s.length-1){let x=k(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>k(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return i;let j=k(x,{0:()=>s.indexOf(a[0]),1:()=>s.indexOf(a[a.length-1])});return{...i,selectedIndex:j===-1?e.selectedIndex:j}}let d=s.slice(0,t.index),m=[...s.slice(t.index),...d].find(x=>a.includes(x));if(!m)return i;let u=(r=s.indexOf(m))!=null?r:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...i,selectedIndex:u}},1(e,t){var r;if(e.tabs.includes(t.tab))return e;let s=e.tabs[e.selectedIndex],l=O([...e.tabs,t.tab],i=>i.current),a=(r=l.indexOf(s))!=null?r:e.selectedIndex;return a===-1&&(a=e.selectedIndex),{...e,tabs:l,selectedIndex:a}},2(e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:O([...e.panels,t.panel],r=>r.current)}},4(e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},Y=c.createContext(null);Y.displayName="TabsDataContext";function R(e){let t=c.useContext(Y);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,R),r}return t}let K=c.createContext(null);K.displayName="TabsActionsContext";function Q(e){let t=c.useContext(K);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Q),r}return t}function Me(e,t){return k(t.type,Le,e,t)}let Oe=c.Fragment;function ke(e,t){let{defaultIndex:r=0,vertical:s=!1,manual:l=!1,onChange:a,selectedIndex:i=null,...d}=e;const m=s?"vertical":"horizontal",u=l?"manual":"auto";let x=i!==null,j=B(t),[f,v]=c.useReducer(Me,{selectedIndex:i??r,tabs:[],panels:[]}),b=c.useMemo(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),A=J(a||(()=>{})),L=J(f.tabs),h=c.useMemo(()=>({orientation:m,activation:u,...f}),[m,u,f]),g=$(p=>(v({type:1,tab:p}),()=>v({type:2,tab:p}))),T=$(p=>(v({type:3,panel:p}),()=>v({type:4,panel:p}))),P=$(p=>{E.current!==p&&A.current(p),x||v({type:0,index:p})}),E=J(x?e.selectedIndex:f.selectedIndex),H=c.useMemo(()=>({registerTab:g,registerPanel:T,change:P}),[]);W(()=>{v({type:0,index:i??r})},[i]),W(()=>{if(E.current===void 0||f.tabs.length<=0)return;let p=O(f.tabs,I=>I.current);p.some((I,o)=>f.tabs[o]!==I)&&P(p.indexOf(f.tabs[E.current]))});let X={ref:j};return C.createElement(Se,null,C.createElement(K.Provider,{value:H},C.createElement(Y.Provider,{value:h},h.tabs.length<=0&&C.createElement($e,{onFocus:()=>{var p,I;for(let o of L.current)if(((p=o.current)==null?void 0:p.tabIndex)===0)return(I=o.current)==null||I.focus(),!0;return!1}}),z({ourProps:X,theirProps:d,slot:b,defaultTag:Oe,name:"Tabs"}))))}let _e="div";function Be(e,t){let{orientation:r,selectedIndex:s}=R("Tab.List"),l=B(t);return z({ourProps:{ref:l,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:s},defaultTag:_e,name:"Tabs.List"})}let ze="button";function Ue(e,t){var r,s;let l=le(),{id:a=`headlessui-tabs-tab-${l}`,...i}=e,{orientation:d,activation:m,selectedIndex:u,tabs:x,panels:j}=R("Tab"),f=Q("Tab"),v=R("Tab"),b=c.useRef(null),A=B(b,t);W(()=>f.registerTab(b),[f,b]);let L=oe("tabs"),h=x.indexOf(b);h===-1&&(h=L);let g=h===u,T=$(o=>{var N;let U=o();if(U===q.Success&&m==="auto"){let ue=(N=fe(b))==null?void 0:N.activeElement,te=v.tabs.findIndex(ce=>ce.current===ue);te!==-1&&f.change(te)}return U}),P=$(o=>{let N=x.map(U=>U.current).filter(Boolean);if(o.key===w.Space||o.key===w.Enter){o.preventDefault(),o.stopPropagation(),f.change(h);return}switch(o.key){case w.Home:case w.PageUp:return o.preventDefault(),o.stopPropagation(),T(()=>S(N,y.First));case w.End:case w.PageDown:return o.preventDefault(),o.stopPropagation(),T(()=>S(N,y.Last))}if(T(()=>k(d,{vertical(){return o.key===w.ArrowUp?S(N,y.Previous|y.WrapAround):o.key===w.ArrowDown?S(N,y.Next|y.WrapAround):q.Error},horizontal(){return o.key===w.ArrowLeft?S(N,y.Previous|y.WrapAround):o.key===w.ArrowRight?S(N,y.Next|y.WrapAround):q.Error}}))===q.Success)return o.preventDefault()}),E=c.useRef(!1),H=$(()=>{var o;E.current||(E.current=!0,(o=b.current)==null||o.focus({preventScroll:!0}),f.change(h),pe(()=>{E.current=!1}))}),X=$(o=>{o.preventDefault()}),p=c.useMemo(()=>({selected:g}),[g]),I={ref:A,onKeyDown:P,onMouseDown:X,onClick:H,id:a,role:"tab",type:Te(e,b),"aria-controls":(s=(r=j[h])==null?void 0:r.current)==null?void 0:s.id,"aria-selected":g,tabIndex:g?0:-1};return z({ourProps:I,theirProps:i,slot:p,defaultTag:ze,name:"Tabs.Tab"})}let qe="div";function Ge(e,t){let{selectedIndex:r}=R("Tab.Panels"),s=B(t),l=c.useMemo(()=>({selectedIndex:r}),[r]);return z({ourProps:{ref:s},theirProps:e,slot:l,defaultTag:qe,name:"Tabs.Panels"})}let We="div",He=ne.RenderStrategy|ne.Static;function Xe(e,t){var r,s,l,a;let i=le(),{id:d=`headlessui-tabs-panel-${i}`,tabIndex:m=0,...u}=e,{selectedIndex:x,tabs:j,panels:f}=R("Tab.Panel"),v=Q("Tab.Panel"),b=c.useRef(null),A=B(b,t);W(()=>v.registerPanel(b),[v,b]);let L=oe("panels"),h=f.indexOf(b);h===-1&&(h=L);let g=h===x,T=c.useMemo(()=>({selected:g}),[g]),P={ref:A,id:d,role:"tabpanel","aria-labelledby":(s=(r=j[h])==null?void 0:r.current)==null?void 0:s.id,tabIndex:g?m:-1};return!g&&((l=u.unmount)==null||l)&&!((a=u.static)!=null&&a)?C.createElement(ae,{as:"span",...P}):z({ourProps:P,theirProps:u,slot:T,defaultTag:We,features:He,visible:g,name:"Tabs.Panel"})}let Je=_(Ue),Ve=_(ke),Ye=_(Be),Ke=_(Ge),Qe=_(Xe),F=Object.assign(Je,{Group:Ve,List:Ye,Panels:Ke,Panel:Qe});function Ze({list:e,children:t=[],className:r}){return n.jsxs(F.List,{className:"w-full whitespace-nowrap px-2 py-0.5 flex justify-between items-center bg-primary-10 dark:bg-secondary-10",children:[n.jsx("div",{className:D("flex w-full overflow-hidden overflow-x-auto py-1 hover:scrollbar scrollbar--horizontal",r),children:n.jsx("div",{className:"flex items-center bg-secondary-10 dark:bg-primary-10 cursor-pointer rounded-full p-1 overflow-hidden",children:e.map(s=>n.jsx(F,{className:({selected:l})=>D("text-xs px-2 py-0.5 mr-2 last:mr-0 rounded-full relative align-middle",l?"bg-secondary-500 text-secondary-100 cursor-default font-bold":"cursor-pointer font-medium text-secondary-400 dark:text-secondary-400"),children:s},s))})}),t]})}const Z=function({model:t,withModel:r=!0,withDescription:s=!0,withColumns:l=!0,withCode:a=!0,withQuery:i=!0}){const{handleClickModel:d}=we(),m=ye(t.path,u=>{d==null||d(u.name)});return n.jsxs(ee,{children:[r&&n.jsx(G,{headline:"Model",defaultOpen:!0,children:n.jsxs("ul",{className:"px-2 w-full",children:[n.jsx(M,{name:"Path",value:t.path.split("/").slice(0,-1).join("/")}),n.jsx(M,{name:"Name",value:t.name}),n.jsx(M,{name:"Dialect",value:t.dialect}),n.jsx(M,{name:"Type",value:t.type}),Object.entries(t.details??{}).map(([u,x])=>n.jsx(M,{name:u.replaceAll("_"," "),value:x,isCapitalize:!0},u))]})}),s&&n.jsx(G,{headline:"Description",defaultOpen:!0,children:t.description==null?"No description":t.description}),l&&n.jsx(G,{headline:"Columns",children:n.jsx(Ne,{className:"max-h-[15rem]",nodeId:t.name,columns:t.columns,disabled:(t==null?void 0:t.type)==="python",withHandles:!1,withSource:!1,withDescription:!0,limit:10})}),(a||i)&&n.jsx(G,{headline:"SQL",children:n.jsx(Ie,{path:t.path,children:({file:u})=>n.jsxs(F.Group,{defaultIndex:i?1:0,children:[n.jsx(Ze,{list:[a&&"Source Code",i&&"Compiled Query"].filter(Boolean),className:"!justify-center"}),n.jsxs(F.Panels,{className:"h-full w-full overflow-hidden bg-neutral-10 mt-4 rounded-lg",children:[a&&n.jsx(F.Panel,{unmount:!1,className:D("flex flex-col w-full h-full relative px-2 overflow-hidden p-2","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:n.jsx(re,{content:u.content,type:u.extension,extensions:m,className:"text-xs"})}),i&&n.jsx(F.Panel,{unmount:!1,className:"w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 p-2",children:n.jsx(re,{type:me.SQL,content:t.sql??"",extensions:m,className:"text-xs"})})]})]})})})]})};function et({headline:e}){return n.jsx("div",{className:"text-lg font-bold whitespace-nowrap w-full",id:e,children:n.jsx("h3",{className:"py-2",children:e})})}function tt(){return n.jsx(ee,{className:"font-bold whitespace-nowrap w-full h-full",children:n.jsx("div",{className:"flex items-center justify-center w-full h-full",children:"Documentation Not Found"})})}function ee({children:e,className:t}){return n.jsx("div",{className:D("w-full h-full rounded-xl",t),children:n.jsx("div",{className:"w-full h-full py-4 rounded-xl",children:n.jsx("div",{className:"w-full h-full overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:e})})})}function G({children:e,className:t,headline:r,defaultOpen:s=!1}){return n.jsx("div",{className:"px-4",children:n.jsx(V,{defaultOpen:s,children:({open:l})=>n.jsxs(n.Fragment,{children:[n.jsxs(V.Button,{className:D("flex items-center justify-between rounded-lg text-left w-full bg-neutral-10 px-3 mb-2",t),children:[n.jsx(et,{headline:r}),n.jsx("div",{children:l?n.jsx(Pe,{className:"h-6 w-6 text-neutral-50"}):n.jsx(Ee,{className:"h-6 w-6 text-neutral-50"})})]}),n.jsx(V.Panel,{className:"pb-2 overflow-hidden",children:n.jsx("div",{className:"px-4 mb-2 text-xs",children:e})})]})})})}function M({className:e,name:t,value:r,isHighlighted:s=!1,isCapitalize:l=!1,children:a}){return n.jsxs("li",{className:D("w-full border-b border-primary-10 py-1 mb-1",e),children:[be(r)?n.jsxs(n.Fragment,{children:[n.jsx("strong",{className:"mr-2 text-xs capitalize",children:t}),r.map((i,d)=>n.jsx("span",{className:"w-full items-center flex ml-2 mb-1",children:n.jsx("ul",{className:"w-full flex ml-3 whitespace-nowrap",children:Object.entries(i).map(([m,u])=>n.jsx("li",{className:"flex",children:n.jsxs("div",{className:"flex text-xs",children:[n.jsxs("strong",{className:"mr-2",children:[m,":"]}),n.jsx("p",{className:"text-xs rounded text-neutral-500 dark:text-neutral-400",children:se(u)}),n.jsx("span",{className:"px-2 text-neutral-20",children:"|"})]})},m))})},d))]}):n.jsxs("div",{className:"flex justify-between text-xs whitespace-nowrap",children:[n.jsx("strong",{className:D("mr-2",l&&"capitalize",s&&"text-brand-500"),children:t}),n.jsx("p",{className:"text-xs rounded text-neutral-500 dark:text-neutral-400",children:se(r)})]}),n.jsx("p",{className:"text-xs ",children:a})]})}Z.NotFound=tt;Z.Container=ee;const lt=Z;function se(e){const t=new Date(e),r=he(e)&&!isNaN(t.getTime()),s=typeof e=="boolean";return s&&ge(e)?"True":s&&je(e)?"False":r?ve(t):String(e)}export{lt as D,Ze as T,F as r};
